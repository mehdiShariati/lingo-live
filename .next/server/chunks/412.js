exports.id=412,exports.ids=[412],exports.modules={1602:(e,t,n)=>{"use strict";var a=n(6745);n.o(a,"NextResponse")&&n.d(t,{NextResponse:function(){return a.NextResponse}})},7940:e=>{"use strict";var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i={};function s(e){var t;let n=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),a=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===n.length?a:`${a}; ${n.join("; ")}`}function o(e){let t=new Map;for(let n of e.split(/; */)){if(!n)continue;let e=n.indexOf("=");if(-1===e){t.set(n,"true");continue}let[a,r]=[n.slice(0,e),n.slice(e+1)];try{t.set(a,decodeURIComponent(null!=r?r:"true"))}catch{}}return t}function l(e){var t,n;if(!e)return;let[[a,r],...i]=o(e),{domain:s,expires:l,httponly:c,maxage:m,path:p,samesite:f,secure:h,partitioned:g,priority:k}=Object.fromEntries(i.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let n in e)e[n]&&(t[n]=e[n]);return t}({name:a,value:decodeURIComponent(r),domain:s,...l&&{expires:new Date(l)},...c&&{httpOnly:!0},..."string"==typeof m&&{maxAge:Number(m)},path:p,...f&&{sameSite:u.includes(t=(t=f).toLowerCase())?t:void 0},...h&&{secure:!0},...k&&{priority:d.includes(n=(n=k).toLowerCase())?n:void 0},...g&&{partitioned:!0}})}((e,n)=>{for(var a in n)t(e,a,{get:n[a],enumerable:!0})})(i,{RequestCookies:()=>c,ResponseCookies:()=>m,parseCookie:()=>o,parseSetCookie:()=>l,stringifyCookie:()=>s}),e.exports=((e,i,s,o)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let s of a(i))r.call(e,s)||void 0===s||t(e,s,{get:()=>i[s],enumerable:!(o=n(i,s))||o.enumerable});return e})(t({},"__esModule",{value:!0}),i);var u=["strict","lax","none"],d=["low","medium","high"],c=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,n]of o(t))this._parsed.set(e,{name:e,value:n})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let n=Array.from(this._parsed);if(!e.length)return n.map(([e,t])=>t);let a="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return n.filter(([e])=>e===a).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,n]=1===e.length?[e[0].name,e[0].value]:e,a=this._parsed;return a.set(t,{name:t,value:n}),this._headers.set("cookie",Array.from(a).map(([e,t])=>s(t)).join("; ")),this}delete(e){let t=this._parsed,n=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>s(t)).join("; ")),n}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},m=class{constructor(e){var t,n,a;this._parsed=new Map,this._headers=e;let r=null!=(a=null!=(n=null==(t=e.getSetCookie)?void 0:t.call(e))?n:e.get("set-cookie"))?a:[];for(let e of Array.isArray(r)?r:function(e){if(!e)return[];var t,n,a,r,i,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,i=!1;l();)if(","===(n=e.charAt(o))){for(a=o,o+=1,l(),r=o;o<e.length&&"="!==(n=e.charAt(o))&&";"!==n&&","!==n;)o+=1;o<e.length&&"="===e.charAt(o)?(i=!0,o=r,s.push(e.substring(t,a)),t=o):o=a+1}else o+=1;(!i||o>=e.length)&&s.push(e.substring(t,e.length))}return s}(r)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let n=Array.from(this._parsed.values());if(!e.length)return n;let a="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return n.filter(e=>e.name===a)}has(e){return this._parsed.has(e)}set(...e){let[t,n,a]=1===e.length?[e[0].name,e[0].value,e[0]]:e,r=this._parsed;return r.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:n,...a})),function(e,t){for(let[,n]of(t.delete("set-cookie"),e)){let e=s(n);t.append("set-cookie",e)}}(r,this._headers),this}delete(...e){let[t,n,a]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:n,domain:a,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(s).join("; ")}}},3403:(e,t,n)=>{var a;(()=>{var r={226:function(r,i){!function(s,o){"use strict";var l="function",u="undefined",d="object",c="string",m="major",p="model",f="name",h="type",g="vendor",k="version",T="architecture",b="console",y="mobile",w="tablet",_="smarttv",v="wearable",E="embedded",S="Amazon",I="Apple",N="ASUS",O="BlackBerry",P="Browser",A="Chrome",x="Firefox",R="Google",U="Huawei",L="Microsoft",j="Motorola",D="Opera",F="Samsung",C="Sharp",M="Sony",H="Xiaomi",$="Zebra",B="Facebook",J="Chromium OS",q="Mac OS",G=function(e,t){var n={};for(var a in e)t[a]&&t[a].length%2==0?n[a]=t[a].concat(e[a]):n[a]=e[a];return n},V=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},K=function(e,t){return typeof e===c&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},z=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===u?e:e.substring(0,350)},X=function(e,t){for(var n,a,r,i,s,u,c=0;c<t.length&&!s;){var m=t[c],p=t[c+1];for(n=a=0;n<m.length&&!s&&m[n];)if(s=m[n++].exec(e))for(r=0;r<p.length;r++)u=s[++a],typeof(i=p[r])===d&&i.length>0?2===i.length?typeof i[1]==l?this[i[0]]=i[1].call(this,u):this[i[0]]=i[1]:3===i.length?typeof i[1]!==l||i[1].exec&&i[1].test?this[i[0]]=u?u.replace(i[1],i[2]):void 0:this[i[0]]=u?i[1].call(this,u,i[2]):void 0:4===i.length&&(this[i[0]]=u?i[3].call(this,u.replace(i[1],i[2])):void 0):this[i]=u||o;c+=2}},Y=function(e,t){for(var n in t)if(typeof t[n]===d&&t[n].length>0){for(var a=0;a<t[n].length;a++)if(K(t[n][a],e))return"?"===n?o:n}else if(K(t[n],e))return"?"===n?o:n;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,k],[/opios[\/ ]+([\w\.]+)/i],[k,[f,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[k,[f,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,k],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[f,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[k,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[k,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[k,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+P],k],[/\bfocus\/([\w\.]+)/i],[k,[f,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[f,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[f,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[f,"MIUI "+P]],[/fxios\/([-\w\.]+)/i],[k,[f,x]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+P]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+P],k],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,k],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,B],k],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[k,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[f,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,A+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[f,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[k,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[f,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,k],[/(cobalt)\/([\w\.]+)/i],[f,[k,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,W]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[g,F],[h,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[g,F],[h,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[g,I],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[g,I],[h,w]],[/(macintosh);/i],[p,[g,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[g,C],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[g,U],[h,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[g,U],[h,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[g,H],[h,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[g,H],[h,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[g,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[g,"Vivo"],[h,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[g,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[g,j],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[g,j],[h,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[g,"LG"],[h,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[g,"LG"],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[g,"Lenovo"],[h,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[g,"Nokia"],[h,y]],[/(pixel c)\b/i],[p,[g,R],[h,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[g,R],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[g,M],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[g,M],[h,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[g,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[g,S],[h,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[g,S],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[p,g,[h,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[g,O],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[g,N],[h,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[g,N],[h,y]],[/(nexus 9)/i],[p,[g,"HTC"],[h,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[p,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[g,"Acer"],[h,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[g,"Meizu"],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,p,[h,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,p,[h,w]],[/(surface duo)/i],[p,[g,L],[h,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[g,"Fairphone"],[h,y]],[/(u304aa)/i],[p,[g,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[p,[g,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[p,[g,"RCA"],[h,w]],[/\b(venue[\d ]{2,7}) b/i],[p,[g,"Dell"],[h,w]],[/\b(q(?:mv|ta)\w+) b/i],[p,[g,"Verizon"],[h,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[g,"Barnes & Noble"],[h,w]],[/\b(tm\d{3}\w+) b/i],[p,[g,"NuVision"],[h,w]],[/\b(k88) b/i],[p,[g,"ZTE"],[h,w]],[/\b(nx\d{3}j) b/i],[p,[g,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[p,[g,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[p,[g,"Swiss"],[h,w]],[/\b((zeki)?tb.*\b) b/i],[p,[g,"Zeki"],[h,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],p,[h,w]],[/\b(ns-?\w{0,9}) b/i],[p,[g,"Insignia"],[h,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[g,"NextBook"],[h,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],p,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],p,[h,y]],[/\b(ph-1) /i],[p,[g,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[g,"Envizen"],[h,w]],[/\b(trio[-\w\. ]+) b/i],[p,[g,"MachSpeed"],[h,w]],[/\btu_(1491) b/i],[p,[g,"Rotor"],[h,w]],[/(shield[\w ]+) b/i],[p,[g,"Nvidia"],[h,w]],[/(sprint) (\w+)/i],[g,p,[h,y]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[g,L],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[g,$],[h,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[g,$],[h,y]],[/smart-tv.+(samsung)/i],[g,[h,_]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[g,F],[h,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[h,_]],[/(apple) ?tv/i],[g,[p,I+" TV"],[h,_]],[/crkey/i],[[p,A+"cast"],[g,R],[h,_]],[/droid.+aft(\w)( bui|\))/i],[p,[g,S],[h,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[g,C],[h,_]],[/(bravia[\w ]+)( bui|\))/i],[p,[g,M],[h,_]],[/(mitv-\w{5}) bui/i],[p,[g,H],[h,_]],[/Hbbtv.*(technisat) (.*);/i],[g,p,[h,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,z],[p,z],[h,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,p,[h,b]],[/droid.+; (shield) bui/i],[p,[g,"Nvidia"],[h,b]],[/(playstation [345portablevi]+)/i],[p,[g,M],[h,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[g,L],[h,b]],[/((pebble))app/i],[g,p,[h,v]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[g,I],[h,v]],[/droid.+; (glass) \d/i],[p,[g,R],[h,v]],[/droid.+; (wt63?0{2,3})\)/i],[p,[g,$],[h,v]],[/(quest( 2| pro)?)/i],[p,[g,B],[h,v]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[h,E]],[/(aeobc)\b/i],[p,[g,S],[h,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[h,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,k],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[k,Y,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[k,Y,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,q],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,k],[/\(bb(10);/i],[k,[f,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[f,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[k,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[k,[f,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,J],k],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,k],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,k]]},ee=function(e,t){if(typeof e===d&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var n=typeof s!==u&&s.navigator?s.navigator:o,a=e||(n&&n.userAgent?n.userAgent:""),r=n&&n.userAgentData?n.userAgentData:o,i=t?G(Q,t):Q,b=n&&n.userAgent==a;return this.getBrowser=function(){var e,t={};return t[f]=o,t[k]=o,X.call(t,a,i.browser),t[m]=typeof(e=t[k])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,b&&n&&n.brave&&typeof n.brave.isBrave==l&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[T]=o,X.call(e,a,i.cpu),e},this.getDevice=function(){var e={};return e[g]=o,e[p]=o,e[h]=o,X.call(e,a,i.device),b&&!e[h]&&r&&r.mobile&&(e[h]=y),b&&"Macintosh"==e[p]&&n&&typeof n.standalone!==u&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[p]="iPad",e[h]=w),e},this.getEngine=function(){var e={};return e[f]=o,e[k]=o,X.call(e,a,i.engine),e},this.getOS=function(){var e={};return e[f]=o,e[k]=o,X.call(e,a,i.os),b&&!e[f]&&r&&"Unknown"!=r.platform&&(e[f]=r.platform.replace(/chrome os/i,J).replace(/macos/i,q)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return a},this.setUA=function(e){return a=typeof e===c&&e.length>350?z(e,350):e,this},this.setUA(a),this};ee.VERSION="1.0.35",ee.BROWSER=V([f,k,m]),ee.CPU=V([T]),ee.DEVICE=V([p,g,h,b,y,_,w,v,E]),ee.ENGINE=ee.OS=V([f,k]),typeof i!==u?(r.exports&&(i=r.exports=ee),i.UAParser=ee):n.amdO?void 0!==(a=(function(){return ee}).call(t,n,t,e))&&(e.exports=a):typeof s!==u&&(s.UAParser=ee);var et=typeof s!==u&&(s.jQuery||s.Zepto);if(et&&!et.ua){var en=new ee;et.ua=en.getResult(),et.ua.get=function(){return en.getUA()},et.ua.set=function(e){en.setUA(e);var t=en.getResult();for(var n in t)et.ua[n]=t[n]}}}("object"==typeof window?window:this)}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}},a=!0;try{r[e].call(n.exports,n,n.exports,s),a=!1}finally{a&&delete i[e]}return n.exports}s.ab=__dirname+"/";var o=s(226);e.exports=o})()},6126:(e,t,n)=>{"use strict";e.exports=n(517)},2867:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{PageSignatureError:function(){return n},RemovedPageError:function(){return a},RemovedUAError:function(){return r}});class n extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class a extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class r extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},6745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ImageResponse:function(){return a.ImageResponse},NextRequest:function(){return r.NextRequest},NextResponse:function(){return i.NextResponse},URLPattern:function(){return o.URLPattern},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString}});let a=n(3437),r=n(7473),i=n(6676),s=n(8564),o=n(9929)},9626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return d}});let a=n(3859),r=n(6819),i=n(5891),s=n(208),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let u=Symbol("NextURLInternal");class d{constructor(e,t,n){let a,r;"object"==typeof t&&"pathname"in t||"string"==typeof t?(a=t,r=n||{}):r=n||t||{},this[u]={url:l(e,a??r.base),options:r,basePath:""},this.analyze()}analyze(){var e,t,n,r,o;let l=(0,s.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),d=(0,i.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(d):(0,a.detectDomainLocale)(null==(t=this[u].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,d);let c=(null==(n=this[u].domainLocale)?void 0:n.defaultLocale)||(null==(o=this[u].options.nextConfig)?void 0:null==(r=o.i18n)?void 0:r.defaultLocale);this[u].url.pathname=l.pathname,this[u].defaultLocale=c,this[u].basePath=l.basePath??"",this[u].buildId=l.buildId,this[u].locale=l.locale??c,this[u].trailingSlash=l.trailingSlash}formatPathname(){return(0,r.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,n;if(!this[u].locale||!(null==(n=this[u].options.nextConfig)?void 0:null==(t=n.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=l(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new d(String(this),this[u].options)}}},1456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{RequestCookies:function(){return a.RequestCookies},ResponseCookies:function(){return a.ResponseCookies},stringifyCookie:function(){return a.stringifyCookie}});let a=n(7940)},3437:(e,t)=>{"use strict";function n(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return n}})},7473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return l}});let a=n(9626),r=n(8419),i=n(2867),s=n(1456),o=Symbol("internal request");class l extends Request{constructor(e,t={}){let n="string"!=typeof e&&"url"in e?e.url:String(e);(0,r.validateURL)(n),e instanceof Request?super(e,t):super(n,t);let i=new a.NextURL(n,{headers:(0,r.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new s.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:i,url:i.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get geo(){return this[o].geo}get ip(){return this[o].ip}get nextUrl(){return this[o].nextUrl}get page(){throw new i.RemovedPageError}get ua(){throw new i.RemovedUAError}get url(){return this[o].url}}},6676:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return c}});let a=n(1456),r=n(9626),i=n(8419),s=n(7495),o=n(1456),l=Symbol("internal response"),u=new Set([301,302,303,307,308]);function d(e,t){var n;if(null==e?void 0:null==(n=e.request)?void 0:n.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let n=[];for(let[a,r]of e.request.headers)t.set("x-middleware-request-"+a,r),n.push(a);t.set("x-middleware-override-headers",n.join(","))}}class c extends Response{constructor(e,t={}){super(e,t);let n=this.headers,u=new Proxy(new o.ResponseCookies(n),{get(e,r,i){switch(r){case"delete":case"set":return(...i)=>{let s=Reflect.apply(e[r],e,i),l=new Headers(n);return s instanceof o.ResponseCookies&&n.set("x-middleware-set-cookie",s.getAll().map(e=>(0,a.stringifyCookie)(e)).join(",")),d(t,l),s};default:return s.ReflectAdapter.get(e,r,i)}}});this[l]={cookies:u,url:t.url?new r.NextURL(t.url,{headers:(0,i.toNodeOutgoingHttpHeaders)(n),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let n=Response.json(e,t);return new c(n.body,n)}static redirect(e,t){let n="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!u.has(n))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let a="object"==typeof t?t:{},r=new Headers(null==a?void 0:a.headers);return r.set("Location",(0,i.validateURL)(e)),new c(null,{...a,headers:r,status:n})}static rewrite(e,t){let n=new Headers(null==t?void 0:t.headers);return n.set("x-middleware-rewrite",(0,i.validateURL)(e)),d(t,n),new c(null,{...t,headers:n})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),d(e,t),new c(null,{...e,headers:t})}}},9929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return n}});let n="undefined"==typeof URLPattern?void 0:URLPattern},8564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{isBot:function(){return r},userAgent:function(){return s},userAgentFromString:function(){return i}});let a=function(e){return e&&e.__esModule?e:{default:e}}(n(3403));function r(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function i(e){return{...(0,a.default)(e),isBot:void 0!==e&&r(e)}}function s({headers:e}){return i(e.get("user-agent")||void 0)}},8419:(e,t)=>{"use strict";function n(e){let t=new Headers;for(let[n,a]of Object.entries(e))for(let e of Array.isArray(a)?a:[a])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(n,e));return t}function a(e){var t,n,a,r,i,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,i=!1;l();)if(","===(n=e.charAt(o))){for(a=o,o+=1,l(),r=o;o<e.length&&"="!==(n=e.charAt(o))&&";"!==n&&","!==n;)o+=1;o<e.length&&"="===e.charAt(o)?(i=!0,o=r,s.push(e.substring(t,a)),t=o):o=a+1}else o+=1;(!i||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function r(e){let t={},n=[];if(e)for(let[r,i]of e.entries())"set-cookie"===r.toLowerCase()?(n.push(...a(i)),t[r]=1===n.length?n[0]:n):t[r]=i;return t}function i(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{fromNodeOutgoingHttpHeaders:function(){return n},splitCookiesString:function(){return a},toNodeOutgoingHttpHeaders:function(){return r},validateURL:function(){return i}})},5891:(e,t)=>{"use strict";function n(e,t){let n;if((null==t?void 0:t.host)&&!Array.isArray(t.host))n=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;n=e.hostname}return n.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return n}})},3859:(e,t)=>{"use strict";function n(e,t,n){if(e)for(let i of(n&&(n=n.toLowerCase()),e)){var a,r;if(t===(null==(a=i.domain)?void 0:a.split(":",1)[0].toLowerCase())||n===i.defaultLocale.toLowerCase()||(null==(r=i.locales)?void 0:r.some(e=>e.toLowerCase()===n)))return i}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return n}})},7820:(e,t)=>{"use strict";function n(e,t){let n;let a=e.split("/");return(t||[]).some(t=>!!a[1]&&a[1].toLowerCase()===t.toLowerCase()&&(n=t,a.splice(1,1),e=a.join("/")||"/",!0)),{pathname:e,detectedLocale:n}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return n}})},8181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return i}});let a=n(8206),r=n(4141);function i(e,t,n,i){if(!t||t===n)return e;let s=e.toLowerCase();return!i&&((0,r.pathHasPrefix)(s,"/api")||(0,r.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,a.addPathPrefix)(e,"/"+t)}},8206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return r}});let a=n(470);function r(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:n,query:r,hash:i}=(0,a.parsePath)(e);return""+t+n+r+i}},8094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return r}});let a=n(470);function r(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:n,query:r,hash:i}=(0,a.parsePath)(e);return""+n+t+r+i}},6819:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let a=n(8198),r=n(8206),i=n(8094),s=n(8181);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,a.removeTrailingSlash)(t)),e.buildId&&(t=(0,i.addPathSuffix)((0,r.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,r.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,i.addPathSuffix)(t,"/"):(0,a.removeTrailingSlash)(t)}},208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let a=n(7820),r=n(1535),i=n(4141);function s(e,t){var n,s;let{basePath:o,i18n:l,trailingSlash:u}=null!=(n=t.nextConfig)?n:{},d={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};o&&(0,i.pathHasPrefix)(d.pathname,o)&&(d.pathname=(0,r.removePathPrefix)(d.pathname,o),d.basePath=o);let c=d.pathname;if(d.pathname.startsWith("/_next/data/")&&d.pathname.endsWith(".json")){let e=d.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),n=e[0];d.buildId=n,c="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(d.pathname=c)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(d.pathname):(0,a.normalizeLocalePath)(d.pathname,l.locales);d.locale=e.detectedLocale,d.pathname=null!=(s=e.pathname)?s:d.pathname,!e.detectedLocale&&d.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(c):(0,a.normalizeLocalePath)(c,l.locales)).detectedLocale&&(d.locale=e.detectedLocale)}return d}},470:(e,t)=>{"use strict";function n(e){let t=e.indexOf("#"),n=e.indexOf("?"),a=n>-1&&(t<0||n<t);return a||t>-1?{pathname:e.substring(0,a?n:t),query:a?e.substring(n,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return n}})},4141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return r}});let a=n(470);function r(e,t){if("string"!=typeof e)return!1;let{pathname:n}=(0,a.parsePath)(e);return n===t||n.startsWith(t+"/")}},1535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return r}});let a=n(4141);function r(e,t){if(!(0,a.pathHasPrefix)(e,t))return e;let n=e.slice(t.length);return n.startsWith("/")?n:"/"+n}},8198:(e,t)=>{"use strict";function n(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return n}})},459:(e,t,n)=>{"use strict";function a(e,t){if(!e)throw Error(t)}function r(e){if("number"!=typeof e)throw Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw Error("invalid int 32: "+e)}function i(e){if("number"!=typeof e)throw Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw Error("invalid uint 32: "+e)}function s(e){if("number"!=typeof e)throw Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw Error("invalid float 32: "+e)}n.d(t,{JO:()=>nO,rj:()=>nU,eS:()=>e6,V3:()=>e7});let o=Symbol("@bufbuild/protobuf/enum-type");function l(e,t,n,a){e[o]=u(t,n.map(t=>({no:t.no,name:t.name,localName:e[t.no]})),a)}function u(e,t,n){let a=Object.create(null),r=Object.create(null),i=[];for(let e of t){let t=d(e);i.push(t),a[e.name]=t,r[e.no]=t}return{typeName:e,values:i,findName:e=>a[e],findNumber:e=>r[e]}}function d(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class c{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){let n=this.getType().runtime.bin,a=n.makeReadOptions(t);return n.readMessage(this,a.readerFactory(e),e.byteLength,a),this}fromJson(e,t){let n=this.getType(),a=n.runtime.json,r=a.makeReadOptions(t);return a.readMessage(n,e,r,this),this}fromJsonString(e,t){let n;try{n=JSON.parse(e)}catch(e){throw Error(`cannot decode ${this.getType().typeName} from JSON: ${e instanceof Error?e.message:String(e)}`)}return this.fromJson(n,t)}toBinary(e){let t=this.getType().runtime.bin,n=t.makeWriteOptions(e),a=n.writerFactory();return t.writeMessage(this,a,n),a.finish()}toJson(e){let t=this.getType().runtime.json,n=t.makeWriteOptions(e);return t.writeMessage(this,n)}toJsonString(e){var t;return JSON.stringify(this.toJson(e),null,null!==(t=null==e?void 0:e.prettySpaces)&&void 0!==t?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function m(){let e=0,t=0;for(let n=0;n<28;n+=7){let a=this.buf[this.pos++];if(e|=(127&a)<<n,(128&a)==0)return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,(128&n)==0)return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let a=this.buf[this.pos++];if(t|=(127&a)<<n,(128&a)==0)return this.assertBounds(),[e,t]}throw Error("invalid varint")}function p(e,t,n){for(let a=0;a<28;a+=7){let r=e>>>a,i=!(r>>>7==0&&0==t),s=(i?128|r:r)&255;if(n.push(s),!i)return}let a=e>>>28&15|(7&t)<<4,r=t>>3!=0;if(n.push((r?128|a:a)&255),r){for(let e=3;e<31;e+=7){let a=t>>>e,r=a>>>7!=0,i=(r?128|a:a)&255;if(n.push(i),!r)return}n.push(t>>>31&1)}}function f(e){let t="-"===e[0];t&&(e=e.slice(1));let n=0,a=0;function r(t,r){let i=Number(e.slice(t,r));a*=1e6,(n=1e6*n+i)>=4294967296&&(a+=n/4294967296|0,n%=4294967296)}return r(-24,-18),r(-18,-12),r(-12,-6),r(-6),t?k(n,a):g(n,a)}function h(e,t){if({lo:e,hi:t}={lo:e>>>0,hi:t>>>0},t<=2097151)return String(4294967296*t+e);let n=16777215&e,a=(e>>>24|t<<8)&16777215,r=t>>16&65535,i=n+6777216*a+6710656*r,s=a+8147497*r,o=2*r;return i>=1e7&&(s+=Math.floor(i/1e7),i%=1e7),s>=1e7&&(o+=Math.floor(s/1e7),s%=1e7),o.toString()+T(s)+T(i)}function g(e,t){return{lo:0|e,hi:0|t}}function k(e,t){return t=~t,e?e=~e+1:t+=1,g(e,t)}let T=e=>{let t=String(e);return"0000000".slice(t.length)+t};function b(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function y(){let e=this.buf[this.pos++],t=127&e;if((128&e)==0||(t|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(let t=5;(128&e)!=0&&t<10;t++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),t>>>0}let w=function(){let e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){let t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),a=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){let a="bigint"==typeof e?e:BigInt(e);if(a>n||a<t)throw Error(`int64 invalid: ${e}`);return a},uParse(e){let t="bigint"==typeof e?e:BigInt(e);if(t>r||t<a)throw Error(`uint64 invalid: ${e}`);return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}let t=e=>a(/^-?[0-9]+$/.test(e),`int64 invalid: ${e}`),n=e=>a(/^[0-9]+$/.test(e),`uint64 invalid: ${e}`);return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),t(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),n(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),t(e),f(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),n(e),f(e)),dec:(e,t)=>(function(e,t){let n=g(e,t),a=2147483648&n.hi;a&&(n=k(n.lo,n.hi));let r=h(n.lo,n.hi);return a?"-"+r:r})(e,t),uDec:(e,t)=>h(e,t)}}();function _(e,t,n){if(t===n)return!0;if(e==tJ.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}switch(e){case tJ.UINT64:case tJ.FIXED64:case tJ.INT64:case tJ.SFIXED64:case tJ.SINT64:return t==n}return!1}function v(e,t){switch(e){case tJ.BOOL:return!1;case tJ.UINT64:case tJ.FIXED64:case tJ.INT64:case tJ.SFIXED64:case tJ.SINT64:return 0==t?w.zero:"0";case tJ.DOUBLE:case tJ.FLOAT:return 0;case tJ.BYTES:return new Uint8Array(0);case tJ.STRING:return"";default:return 0}}function E(e,t){switch(e){case tJ.BOOL:return!1===t;case tJ.STRING:return""===t;case tJ.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return 0==t}}function S(e){let t=e.field.localName,n=Object.create(null);return n[t]=function(e){let t=e.field;if(t.repeated)return[];if(void 0!==t.default)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return v(t.T,t.L);case"message":let n=t.T,a=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(a):a;case"map":throw"map fields are not allowed to be extensions"}}(e),[n,()=>n[t]]}(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(tJ||(tJ={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"}(tq||(tq={}));let I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),N=[];for(let e=0;e<I.length;e++)N[I[e].charCodeAt(0)]=e;N["-".charCodeAt(0)]=I.indexOf("+"),N["_".charCodeAt(0)]=I.indexOf("/");let O={dec(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n=new Uint8Array(t),a=0,r=0,i,s=0;for(let t=0;t<e.length;t++){if(void 0===(i=N[e.charCodeAt(t)]))switch(e[t]){case"=":r=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:s=i,r=1;break;case 1:n[a++]=s<<2|(48&i)>>4,s=i,r=2;break;case 2:n[a++]=(15&s)<<4|(60&i)>>2,s=i,r=3;break;case 3:n[a++]=(3&s)<<6|i,r=0}}if(1==r)throw Error("invalid base64 string.");return n.subarray(0,a)},enc(e){let t="",n=0,a,r=0;for(let i=0;i<e.length;i++)switch(a=e[i],n){case 0:t+=I[a>>2],r=(3&a)<<4,n=1;break;case 1:t+=I[r|a>>4],r=(15&a)<<2,n=2;break;case 2:t+=I[r|a>>6]+I[63&a],n=0}return n&&(t+=I[r]+"=",1==n&&(t+="=")),t}};function P(e,t){let n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(e=>e.no==t.field.no)}function A(e,t){a(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function x(e,t){let n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":if(e.opt||e.req)return void 0!==t[n];if("enum"==e.kind)return t[n]!==e.T.values[0].no;return!E(e.T,t[n]);case"message":return void 0!==t[n];case"map":return Object.keys(t[n]).length>0}}function R(e,t){let n=e.localName,a=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=a?e.T.values[0].no:void 0;break;case"scalar":t[n]=a?v(e.T,e.L):void 0;break;case"message":t[n]=void 0}}function U(e,t){if(null===e||"object"!=typeof e||!Object.getOwnPropertyNames(c.prototype).every(t=>t in e&&"function"==typeof e[t]))return!1;let n=e.getType();return null!==n&&"function"==typeof n&&"typeName"in n&&"string"==typeof n.typeName&&(void 0===t||n.typeName==t.typeName)}function L(e,t){return U(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}tJ.DOUBLE,tJ.FLOAT,tJ.INT64,tJ.UINT64,tJ.INT32,tJ.UINT32,tJ.BOOL,tJ.STRING,tJ.BYTES;let j={ignoreUnknownFields:!1},D={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},F=Symbol(),C=Symbol();function M(e){if(null===e)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function H(e,t,n,r,i){let s=n.localName;if(n.repeated){if(a("map"!=n.kind),null===t)return;if(!Array.isArray(t))throw Error(`cannot decode field ${i.typeName}.${n.name} from JSON: ${M(t)}`);let o=e[s];for(let e of t){if(null===e)throw Error(`cannot decode field ${i.typeName}.${n.name} from JSON: ${M(e)}`);switch(n.kind){case"message":o.push(n.T.fromJson(e,r));break;case"enum":let t=B(n.T,e,r.ignoreUnknownFields,!0);t!==C&&o.push(t);break;case"scalar":try{o.push($(n.T,e,n.L,!0))}catch(a){let t=`cannot decode field ${i.typeName}.${n.name} from JSON: ${M(e)}`;throw a instanceof Error&&a.message.length>0&&(t+=`: ${a.message}`),Error(t)}}}}else if("map"==n.kind){if(null===t)return;if("object"!=typeof t||Array.isArray(t))throw Error(`cannot decode field ${i.typeName}.${n.name} from JSON: ${M(t)}`);let a=e[s];for(let[e,s]of Object.entries(t)){let o;if(null===s)throw Error(`cannot decode field ${i.typeName}.${n.name} from JSON: map value null`);try{o=function(e,t){if(e===tJ.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1}return $(e,t,tq.BIGINT,!0).toString()}(n.K,e)}catch(a){let e=`cannot decode map key for field ${i.typeName}.${n.name} from JSON: ${M(t)}`;throw a instanceof Error&&a.message.length>0&&(e+=`: ${a.message}`),Error(e)}switch(n.V.kind){case"message":a[o]=n.V.T.fromJson(s,r);break;case"enum":let l=B(n.V.T,s,r.ignoreUnknownFields,!0);l!==C&&(a[o]=l);break;case"scalar":try{a[o]=$(n.V.T,s,tq.BIGINT,!0)}catch(a){let e=`cannot decode map value for field ${i.typeName}.${n.name} from JSON: ${M(t)}`;throw a instanceof Error&&a.message.length>0&&(e+=`: ${a.message}`),Error(e)}}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:s},s="value"),n.kind){case"message":let o=n.T;if(null===t&&"google.protobuf.Value"!=o.typeName)return;let l=e[s];U(l)?l.fromJson(t,r):(e[s]=l=o.fromJson(t,r),o.fieldWrapper&&!n.oneof&&(e[s]=o.fieldWrapper.unwrapField(l)));break;case"enum":let u=B(n.T,t,r.ignoreUnknownFields,!1);switch(u){case F:R(n,e);break;case C:break;default:e[s]=u}break;case"scalar":try{let a=$(n.T,t,n.L,!1);a===F?R(n,e):e[s]=a}catch(a){let e=`cannot decode field ${i.typeName}.${n.name} from JSON: ${M(t)}`;throw a instanceof Error&&a.message.length>0&&(e+=`: ${a.message}`),Error(e)}}}function $(e,t,n,a){if(null===t)return a?v(e,n):F;switch(e){case tJ.DOUBLE:case tJ.FLOAT:if("NaN"===t)return Number.NaN;if("Infinity"===t)return Number.POSITIVE_INFINITY;if("-Infinity"===t)return Number.NEGATIVE_INFINITY;if(""===t||"string"==typeof t&&t.trim().length!==t.length||"string"!=typeof t&&"number"!=typeof t)break;let o=Number(t);if(Number.isNaN(o)||!Number.isFinite(o))break;return e==tJ.FLOAT&&s(o),o;case tJ.INT32:case tJ.FIXED32:case tJ.SFIXED32:case tJ.SINT32:case tJ.UINT32:let l;if("number"==typeof t?l=t:"string"==typeof t&&t.length>0&&t.trim().length===t.length&&(l=Number(t)),void 0===l)break;return e==tJ.UINT32||e==tJ.FIXED32?i(l):r(l),l;case tJ.INT64:case tJ.SFIXED64:case tJ.SINT64:if("number"!=typeof t&&"string"!=typeof t)break;let u=w.parse(t);return n?u.toString():u;case tJ.FIXED64:case tJ.UINT64:if("number"!=typeof t&&"string"!=typeof t)break;let d=w.uParse(t);return n?d.toString():d;case tJ.BOOL:if("boolean"!=typeof t)break;return t;case tJ.STRING:if("string"!=typeof t)break;try{encodeURIComponent(t)}catch(e){throw Error("invalid UTF8")}return t;case tJ.BYTES:if(""===t)return new Uint8Array(0);if("string"!=typeof t)break;return O.dec(t)}throw Error()}function B(e,t,n,a){if(null===t)return"google.protobuf.NullValue"==e.typeName?0:a?e.values[0].no:F;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":let r=e.findName(t);if(void 0!==r)return r.no;if(n)return C}throw Error(`cannot decode enum ${e.typeName} from JSON: ${M(t)}`)}function J(e,t,n){if("map"==e.kind){a("object"==typeof t&&null!=t);let r={},i=Object.entries(t);switch(e.V.kind){case"scalar":for(let[t,n]of i)r[t.toString()]=G(e.V.T,n);break;case"message":for(let[e,t]of i)r[e.toString()]=t.toJson(n);break;case"enum":let s=e.V.T;for(let[e,t]of i)r[e.toString()]=q(s,t,n.enumAsInteger)}return n.emitDefaultValues||i.length>0?r:void 0}if(e.repeated){a(Array.isArray(t));let r=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++)r.push(G(e.T,t[n]));break;case"enum":for(let a=0;a<t.length;a++)r.push(q(e.T,t[a],n.enumAsInteger));break;case"message":for(let e=0;e<t.length;e++)r.push(t[e].toJson(n))}return n.emitDefaultValues||r.length>0?r:void 0}switch(e.kind){case"scalar":return G(e.T,t);case"enum":return q(e.T,t,n.enumAsInteger);case"message":return L(e.T,t).toJson(n)}}function q(e,t,n){var r;if(a("number"==typeof t),"google.protobuf.NullValue"==e.typeName)return null;if(n)return t;let i=e.findNumber(t);return null!==(r=null==i?void 0:i.name)&&void 0!==r?r:t}function G(e,t){switch(e){case tJ.INT32:case tJ.SFIXED32:case tJ.SINT32:case tJ.FIXED32:case tJ.UINT32:return a("number"==typeof t),t;case tJ.FLOAT:case tJ.DOUBLE:if(a("number"==typeof t),Number.isNaN(t))return"NaN";if(t===Number.POSITIVE_INFINITY)return"Infinity";if(t===Number.NEGATIVE_INFINITY)return"-Infinity";return t;case tJ.STRING:return a("string"==typeof t),t;case tJ.BOOL:return a("boolean"==typeof t),t;case tJ.UINT64:case tJ.FIXED64:case tJ.INT64:case tJ.SFIXED64:case tJ.SINT64:return a("bigint"==typeof t||"string"==typeof t||"number"==typeof t),t.toString();case tJ.BYTES:return a(t instanceof Uint8Array),O.enc(t)}}!function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(tG||(tG={}));class V{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(i(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return r(e),b(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){s(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){i(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){r(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return r(e),b(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),a=w.enc(e);return n.setInt32(0,a.lo,!0),n.setInt32(4,a.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),a=w.uEnc(e);return n.setInt32(0,a.lo,!0),n.setInt32(4,a.hi,!0),this.raw(t)}int64(e){let t=w.enc(e);return p(t.lo,t.hi,this.buf),this}sint64(e){let t=w.enc(e),n=t.hi>>31;return p(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=w.uEnc(e);return p(t.lo,t.hi,this.buf),this}}class K{constructor(e,t){this.varint64=m,this.uint32=y,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case tG.Varint:for(;128&this.buf[this.pos++];);break;case tG.Bit64:this.pos+=4;case tG.Bit32:this.pos+=4;break;case tG.LengthDelimited:let a=this.uint32();this.pos+=a;break;case tG.StartGroup:for(;;){let[e,n]=this.tag();if(n===tG.EndGroup){if(void 0!==t&&e!==t)throw Error("invalid end group tag");break}this.skip(n,e)}break;default:throw Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return w.dec(...this.varint64())}uint64(){return w.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,w.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return w.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return w.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}let W=Symbol("@bufbuild/protobuf/unknown-fields"),z={readUnknownFields:!0,readerFactory:e=>new K(e)},X={writeUnknownFields:!0,writerFactory:()=>new V};function Y(e,t,n,a,r){let{repeated:i,localName:s}=n;switch(n.oneof&&((e=e[n.oneof.localName]).case!=s&&delete e.value,e.case=s,s="value"),n.kind){case"scalar":case"enum":let o="enum"==n.kind?tJ.INT32:n.T,l=ee;if("scalar"==n.kind&&n.L>0&&(l=Q),i){let n=e[s];if(a==tG.LengthDelimited&&o!=tJ.STRING&&o!=tJ.BYTES){let e=t.uint32()+t.pos;for(;t.pos<e;)n.push(l(t,o))}else n.push(l(t,o))}else e[s]=l(t,o);break;case"message":let u=n.T;i?e[s].push(Z(t,new u,r,n)):U(e[s])?Z(t,e[s],r,n):(e[s]=Z(t,new u,r,n),!u.fieldWrapper||n.oneof||n.repeated||(e[s]=u.fieldWrapper.unwrapField(e[s])));break;case"map":let[d,c]=function(e,t,n){let a,r;let i=t.uint32(),s=t.pos+i;for(;t.pos<s;){let[i]=t.tag();switch(i){case 1:a=ee(t,e.K);break;case 2:switch(e.V.kind){case"scalar":r=ee(t,e.V.T);break;case"enum":r=t.int32();break;case"message":r=Z(t,new e.V.T,n,void 0)}}}if(void 0===a&&(a=v(e.K,tq.BIGINT)),"string"!=typeof a&&"number"!=typeof a&&(a=a.toString()),void 0===r)switch(e.V.kind){case"scalar":r=v(e.V.T,tq.BIGINT);break;case"enum":r=e.V.T.values[0].no;break;case"message":r=new e.V.T}return[a,r]}(n,t,r);e[s][d]=c}}function Z(e,t,n,a){let r=t.getType().runtime.bin,i=null==a?void 0:a.delimited;return r.readMessage(t,e,i?a.no:e.uint32(),n,i),t}function Q(e,t){let n=ee(e,t);return"bigint"==typeof n?n.toString():n}function ee(e,t){switch(t){case tJ.STRING:return e.string();case tJ.BOOL:return e.bool();case tJ.DOUBLE:return e.double();case tJ.FLOAT:return e.float();case tJ.INT32:return e.int32();case tJ.INT64:return e.int64();case tJ.UINT64:return e.uint64();case tJ.FIXED64:return e.fixed64();case tJ.BYTES:return e.bytes();case tJ.FIXED32:return e.fixed32();case tJ.SFIXED32:return e.sfixed32();case tJ.SFIXED64:return e.sfixed64();case tJ.SINT64:return e.sint64();case tJ.UINT32:return e.uint32();case tJ.SINT32:return e.sint32()}}function et(e,t,n,r){a(void 0!==t);let i=e.repeated;switch(e.kind){case"scalar":case"enum":let s="enum"==e.kind?tJ.INT32:e.T;if(i){if(a(Array.isArray(t)),e.packed)(function(e,t,n,a){if(!a.length)return;e.tag(n,tG.LengthDelimited).fork();let[,r]=er(t);for(let t=0;t<a.length;t++)e[r](a[t]);e.join()})(n,s,e.no,t);else for(let a of t)ea(n,s,e.no,a)}else ea(n,s,e.no,t);break;case"message":if(i)for(let i of(a(Array.isArray(t)),t))en(n,r,e,i);else en(n,r,e,t);break;case"map":for(let[i,s]of(a("object"==typeof t&&null!=t),Object.entries(t)))(function(e,t,n,r,i){e.tag(n.no,tG.LengthDelimited),e.fork();let s=r;switch(n.K){case tJ.INT32:case tJ.FIXED32:case tJ.UINT32:case tJ.SFIXED32:case tJ.SINT32:s=Number.parseInt(r);break;case tJ.BOOL:a("true"==r||"false"==r),s="true"==r}switch(ea(e,n.K,1,s),n.V.kind){case"scalar":ea(e,n.V.T,2,i);break;case"enum":ea(e,tJ.INT32,2,i);break;case"message":a(void 0!==i),e.tag(2,tG.LengthDelimited).bytes(i.toBinary(t))}e.join()})(n,r,e,i,s)}}function en(e,t,n,a){let r=L(n.T,a);n.delimited?e.tag(n.no,tG.StartGroup).raw(r.toBinary(t)).tag(n.no,tG.EndGroup):e.tag(n.no,tG.LengthDelimited).bytes(r.toBinary(t))}function ea(e,t,n,r){a(void 0!==r);let[i,s]=er(t);e.tag(n,i)[s](r)}function er(e){let t=tG.Varint;switch(e){case tJ.BYTES:case tJ.STRING:t=tG.LengthDelimited;break;case tJ.DOUBLE:case tJ.FIXED64:case tJ.SFIXED64:t=tG.Bit64;break;case tJ.FIXED32:case tJ.SFIXED32:case tJ.FLOAT:t=tG.Bit32}return[t,tJ[e].toLowerCase()]}function ei(e){if(void 0===e)return e;if(U(e))return e.clone();if(e instanceof Uint8Array){let t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function es(e){return e instanceof Uint8Array?e:new Uint8Array(e)}class eo{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){let e={};for(let t of this.list())e[t.jsonName]=e[t.name]=t;this.jsonNames=e}return this.jsonNames[e]}find(e){if(!this.numbers){let e={};for(let t of this.list())e[t.no]=t;this.numbers=e}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,t)=>e.no-t.no)),this.numbersAsc}byMember(){if(!this.members){let e;this.members=[];let t=this.members;for(let n of this.list())n.oneof?n.oneof!==e&&(e=n.oneof,t.push(e)):t.push(n)}return this.members}}function el(e,t){let n=ed(e);return t?n:eh(ef(n))}let eu=ed;function ed(e){let t=!1,n=[];for(let a=0;a<e.length;a++){let r=e.charAt(a);switch(r){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),t=!1;break;default:t&&(t=!1,r=r.toUpperCase()),n.push(r)}}return n.join("")}let ec=new Set(["constructor","toString","toJSON","valueOf"]),em=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),ep=e=>`${e}$`,ef=e=>em.has(e)?ep(e):e,eh=e=>ec.has(e)?ep(e):e;class eg{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=el(e,!1)}addField(e){a(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[e]}}let ek=(t$=e=>new eo(e,e=>(function(e,t){var n,a,r,i,s,o;let l;let u=[];for(let d of"function"==typeof e?e():e){if(d.localName=el(d.name,void 0!==d.oneof),d.jsonName=null!==(n=d.jsonName)&&void 0!==n?n:eu(d.name),d.repeated=null!==(a=d.repeated)&&void 0!==a&&a,"scalar"==d.kind&&(d.L=null!==(r=d.L)&&void 0!==r?r:tq.BIGINT),d.delimited=null!==(i=d.delimited)&&void 0!==i&&i,d.req=null!==(s=d.req)&&void 0!==s&&s,d.opt=null!==(o=d.opt)&&void 0!==o&&o,void 0===d.packed&&(t?d.packed="enum"==d.kind||"scalar"==d.kind&&d.T!=tJ.BYTES&&d.T!=tJ.STRING:d.packed=!1),void 0!==d.oneof){let e="string"==typeof d.oneof?d.oneof:d.oneof.name;l&&l.name==e||(l=new eg(e)),d.oneof=l,l.addField(d)}u.push(d)}return u})(e,!0)),tB=e=>{for(let t of e.getType().fields.byMember()){if(t.opt)continue;let n=t.localName;if(t.repeated){e[n]=[];continue}switch(t.kind){case"oneof":e[n]={case:void 0};break;case"enum":e[n]=0;break;case"map":e[n]={};break;case"scalar":e[n]=v(t.T,t.L)}}},{syntax:"proto3",json:{makeReadOptions:function(e){return e?Object.assign(Object.assign({},j),e):j},makeWriteOptions:function(e){return e?Object.assign(Object.assign({},D),e):D},readMessage(e,t,n,a){if(null==t||Array.isArray(t)||"object"!=typeof t)throw Error(`cannot decode message ${e.typeName} from JSON: ${M(t)}`);a=null!=a?a:new e;let r=new Map,i=n.typeRegistry;for(let[s,o]of Object.entries(t)){let t=e.fields.findJsonName(s);if(t){if(t.oneof){if(null===o&&"scalar"==t.kind)continue;let n=r.get(t.oneof);if(void 0!==n)throw Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${t.oneof.name}" present: "${n}", "${s}"`);r.set(t.oneof,s)}H(a,o,t,n,e)}else{let t=!1;if((null==i?void 0:i.findExtension)&&s.startsWith("[")&&s.endsWith("]")){let r=i.findExtension(s.substring(1,s.length-1));if(r&&r.extendee.typeName==e.typeName){t=!0;let[e,i]=S(r);H(e,o,r.field,n,r),function(e,t,n,a){A(t,e);let r=t.runtime.bin.makeReadOptions(a),i=t.runtime.bin.makeWriteOptions(a);if(P(e,t)){let n=e.getType().runtime.bin.listUnknownFields(e).filter(e=>e.no!=t.field.no);for(let t of(e.getType().runtime.bin.discardUnknownFields(e),n))e.getType().runtime.bin.onUnknownField(e,t.no,t.wireType,t.data)}let s=i.writerFactory(),o=t.field;o.opt||o.repeated||"enum"!=o.kind&&"scalar"!=o.kind||(o=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(o,n,s,i);let l=r.readerFactory(s.finish());for(;l.pos<l.len;){let[t,n]=l.tag(),a=l.skip(n,t);e.getType().runtime.bin.onUnknownField(e,t,n,a)}}(a,r,i(),n)}}if(!t&&!n.ignoreUnknownFields)throw Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return a},writeMessage(e,t){let n;let a=e.getType(),r={};try{for(n of a.fields.byNumber()){if(!x(n,e)){var i;if(n.req)throw"required field not set";if(!t.emitDefaultValues||!((i=n).repeated||"map"==i.kind||!i.oneof&&"message"!=i.kind&&!i.opt&&!i.req))continue}let a=n.oneof?e[n.oneof.localName].value:e[n.localName],s=J(n,a,t);void 0!==s&&(r[t.useProtoFieldName?n.name:n.jsonName]=s)}let s=t.typeRegistry;if(null==s?void 0:s.findExtensionFor)for(let n of a.runtime.bin.listUnknownFields(e)){let i=s.findExtensionFor(a.typeName,n.no);if(i&&P(e,i)){let n=function(e,t,n){A(t,e);let a=t.runtime.bin.makeReadOptions(n),r=function(e,t){if(!t.repeated&&("enum"==t.kind||"scalar"==t.kind)){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(e=>e.no===t.no)}(e.getType().runtime.bin.listUnknownFields(e),t.field),[i,s]=S(t);for(let e of r)t.runtime.bin.readField(i,a.readerFactory(e.data),t.field,e.wireType,a);return s()}(e,i,t),a=J(i.field,n,t);void 0!==a&&(r[i.field.jsonName]=a)}}}catch(r){let e=n?`cannot encode field ${a.typeName}.${n.name} to JSON`:`cannot encode message ${a.typeName} to JSON`,t=r instanceof Error?r.message:String(r);throw Error(e+(t.length>0?`: ${t}`:""))}return r},readScalar:(e,t,n)=>$(e,t,null!=n?n:tq.BIGINT,!0),writeScalar(e,t,n){if(void 0!==t&&(n||E(e,t)))return G(e,t)},debug:M},bin:{makeReadOptions:function(e){return e?Object.assign(Object.assign({},z),e):z},makeWriteOptions:function(e){return e?Object.assign(Object.assign({},X),e):X},listUnknownFields(e){var t;return null!==(t=e[W])&&void 0!==t?t:[]},discardUnknownFields(e){delete e[W]},writeUnknownFields(e,t){let n=e[W];if(n)for(let e of n)t.tag(e.no,e.wireType).raw(e.data)},onUnknownField(e,t,n,a){Array.isArray(e[W])||(e[W]=[]),e[W].push({no:t,wireType:n,data:a})},readMessage(e,t,n,a,r){let i,s;let o=e.getType(),l=r?t.len:t.pos+n;for(;t.pos<l&&([i,s]=t.tag(),!0!==r||s!=tG.EndGroup);){let n=o.fields.find(i);if(!n){let n=t.skip(s,i);a.readUnknownFields&&this.onUnknownField(e,i,s,n);continue}Y(e,t,n,s,a)}if(r&&(s!=tG.EndGroup||i!==n))throw Error("invalid end group tag")},readField:Y,writeMessage(e,t,n){let a=e.getType();for(let r of a.fields.byNumber()){if(!x(r,e)){if(r.req)throw Error(`cannot encode field ${a.typeName}.${r.name} to binary: required field not set`);continue}let i=r.oneof?e[r.oneof.localName].value:e[r.localName];et(r,i,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,a){void 0!==t&&et(e,t,n,a)}},util:Object.assign(Object.assign({},{setEnumType:l,initPartial(e,t){if(void 0!==e)for(let n of t.getType().fields.byMember()){let a=n.localName;if(null!=e[a])switch(n.kind){case"oneof":let r=e[a].case;if(void 0===r)continue;let i=n.findField(r),s=e[a].value;i&&"message"==i.kind&&!U(s,i.T)?s=new i.T(s):i&&"scalar"===i.kind&&i.T===tJ.BYTES&&(s=es(s)),t[a]={case:r,value:s};break;case"scalar":case"enum":let o=e[a];n.T===tJ.BYTES&&(o=n.repeated?o.map(es):es(o)),t[a]=o;break;case"map":switch(n.V.kind){case"scalar":case"enum":if(n.V.T===tJ.BYTES)for(let[n,r]of Object.entries(e[a]))t[a][n]=es(r);else Object.assign(t[a],e[a]);break;case"message":let l=n.V.T;for(let n of Object.keys(e[a])){let r=e[a][n];l.fieldWrapper||(r=new l(r)),t[a][n]=r}}break;case"message":let u=n.T;if(n.repeated)t[a]=e[a].map(e=>U(e,u)?e:new u(e));else{let n=e[a];u.fieldWrapper?"google.protobuf.BytesValue"===u.typeName?t[a]=es(n):t[a]=n:t[a]=U(n,u)?n:new u(n)}}}},equals:(e,t,n)=>t===n||!!t&&!!n&&e.fields.byMember().every(e=>{let a=t[e.localName],r=n[e.localName];if(e.repeated){if(a.length!==r.length)return!1;switch(e.kind){case"message":return a.every((t,n)=>e.T.equals(t,r[n]));case"scalar":return a.every((t,n)=>_(e.T,t,r[n]));case"enum":return a.every((e,t)=>_(tJ.INT32,e,r[t]))}throw Error(`repeated cannot contain ${e.kind}`)}switch(e.kind){case"message":return e.T.equals(a,r);case"enum":return _(tJ.INT32,a,r);case"scalar":return _(e.T,a,r);case"oneof":if(a.case!==r.case)return!1;let i=e.findField(a.case);if(void 0===i)return!0;switch(i.kind){case"message":return i.T.equals(a.value,r.value);case"enum":return _(tJ.INT32,a.value,r.value);case"scalar":return _(i.T,a.value,r.value)}throw Error(`oneof cannot contain ${i.kind}`);case"map":let s=Object.keys(a).concat(Object.keys(r));switch(e.V.kind){case"message":let o=e.V.T;return s.every(e=>o.equals(a[e],r[e]));case"enum":return s.every(e=>_(tJ.INT32,a[e],r[e]));case"scalar":let l=e.V.T;return s.every(e=>_(l,a[e],r[e]))}}}),clone(e){let t=e.getType(),n=new t;for(let a of t.fields.byMember()){let t;let r=e[a.localName];if(a.repeated)t=r.map(ei);else if("map"==a.kind)for(let[e,i]of(t=n[a.localName],Object.entries(r)))t[e]=ei(i);else t="oneof"==a.kind?a.findField(r.case)?{case:r.case,value:ei(r.value)}:{case:void 0}:ei(r);n[a.localName]=t}for(let a of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(n,a.no,a.wireType,a.data);return n}}),{newFieldList:t$,initFields:tB}),makeMessageType(e,t,n){return function(e,t,n,a){var r;let i=null!==(r=null==a?void 0:a.localName)&&void 0!==r?r:t.substring(t.lastIndexOf(".")+1),s={[i]:function(t){e.util.initFields(this),e.util.initPartial(t,this)}}[i];return Object.setPrototypeOf(s.prototype,new c),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary:(e,t)=>new s().fromBinary(e,t),fromJson:(e,t)=>new s().fromJson(e,t),fromJsonString:(e,t)=>new s().fromJsonString(e,t),equals:(t,n)=>e.util.equals(s,t,n)}),s}(this,e,t,n)},makeEnum:function(e,t,n){let a={};for(let e of t){let t=d(e);a[t.localName]=t.no,a[t.no]=t.localName}return l(a,e,t,n),a},makeEnumType:u,getEnumType:function(e){let t=e[o];return a(t,"missing enum type on enum object"),t},makeExtension(e,t,n){var a;let r;return a=this,{typeName:e,extendee:t,get field(){if(!r){let t="function"==typeof n?n():n;t.name=e.split(".").pop(),t.jsonName=`[${e}]`,r=a.util.newFieldList([t]).list()[0]}return r},runtime:a}}});class eT extends c{constructor(e){super(),this.seconds=w.zero,this.nanos=0,ek.util.initPartial(e,this)}fromJson(e,t){if("string"!=typeof e)throw Error(`cannot decode google.protobuf.Duration from JSON: ${ek.json.debug(e)}`);let n=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(null===n)throw Error(`cannot decode google.protobuf.Duration from JSON: ${ek.json.debug(e)}`);let a=Number(n[1]);if(a>315576e6||a<-315576e6)throw Error(`cannot decode google.protobuf.Duration from JSON: ${ek.json.debug(e)}`);if(this.seconds=w.parse(a),"string"==typeof n[2]){let e=n[2]+"0".repeat(9-n[2].length);this.nanos=parseInt(e),(a<0||Object.is(a,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||-315576e6>Number(this.seconds))throw Error("cannot encode google.protobuf.Duration to JSON: value out of range");let t=this.seconds.toString();if(0!==this.nanos){let e=Math.abs(this.nanos).toString();"000000"===(e="0".repeat(9-e.length)+e).substring(3)?e=e.substring(0,3):"000"===e.substring(6)&&(e=e.substring(0,6)),t+="."+e,this.nanos<0&&0==Number(this.seconds)&&(t="-"+t)}return t+"s"}static fromBinary(e,t){return new eT().fromBinary(e,t)}static fromJson(e,t){return new eT().fromJson(e,t)}static fromJsonString(e,t){return new eT().fromJsonString(e,t)}static equals(e,t){return ek.util.equals(eT,e,t)}}eT.runtime=ek,eT.typeName="google.protobuf.Duration",eT.fields=ek.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);let eb=ek.makeEnum("livekit.AudioCodec",[{no:0,name:"DEFAULT_AC"},{no:1,name:"OPUS"},{no:2,name:"AAC"}]),ey=ek.makeEnum("livekit.VideoCodec",[{no:0,name:"DEFAULT_VC"},{no:1,name:"H264_BASELINE"},{no:2,name:"H264_MAIN"},{no:3,name:"H264_HIGH"},{no:4,name:"VP8"}]),ew=ek.makeEnum("livekit.ImageCodec",[{no:0,name:"IC_DEFAULT"},{no:1,name:"IC_JPEG"}]),e_=ek.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"REGRESSION"},{no:1,name:"SIMULCAST"}]),ev=ek.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),eE=ek.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),eS=ek.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),eI=ek.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"}]),eN=ek.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"}]),eO=(()=>[{no:1,name:"after_id",kind:"scalar",T:9},{no:2,name:"limit",kind:"scalar",T:5}],ek.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:eP,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:eC}])),eP=ek.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),eA=ek.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:ek.getEnumType(eE),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),ex=ek.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:ek.getEnumType(eR)},{no:4,name:"tracks",kind:"message",T:eD,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:eA},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:ek.getEnumType(eU)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:ek.getEnumType(eI)}]),eR=ek.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),eU=ek.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"}]),eL=ek.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),ej=ek.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:eF,repeated:!0}]),eD=ek.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:ek.getEnumType(ev)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:ek.getEnumType(eE)},{no:10,name:"layers",kind:"message",T:eF,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:ej,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:ek.getEnumType(eL)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:eC},{no:19,name:"audio_features",kind:"enum",T:ek.getEnumType(eN),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:ek.getEnumType(e_)}]),eF=ek.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:ek.getEnumType(eS)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13}]),eC=ek.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),eM=ek.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),eH=(()=>[{no:1,name:"operation_type",kind:"enum",T:ek.getEnumType(eM)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],ek.makeEnum("livekit.JobType",[{no:0,name:"JT_ROOM"},{no:1,name:"JT_PUBLISHER"}])),e$=ek.makeEnum("livekit.JobStatus",[{no:0,name:"JS_PENDING"},{no:1,name:"JS_RUNNING"},{no:2,name:"JS_SUCCESS"},{no:3,name:"JS_FAILED"}]),eB=ek.makeMessageType("livekit.Job",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:9,name:"dispatch_id",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:ek.getEnumType(eH)},{no:3,name:"room",kind:"message",T:eO},{no:4,name:"participant",kind:"message",T:ex,opt:!0},{no:5,name:"namespace",kind:"scalar",T:9},{no:6,name:"metadata",kind:"scalar",T:9},{no:7,name:"agent_name",kind:"scalar",T:9},{no:8,name:"state",kind:"message",T:eJ}]),eJ=ek.makeMessageType("livekit.JobState",()=>[{no:1,name:"status",kind:"enum",T:ek.getEnumType(e$)},{no:2,name:"error",kind:"scalar",T:9},{no:3,name:"started_at",kind:"scalar",T:3},{no:4,name:"ended_at",kind:"scalar",T:3},{no:5,name:"updated_at",kind:"scalar",T:3},{no:6,name:"participant_identity",kind:"scalar",T:9}]),eq=ek.makeMessageType("livekit.RoomAgentDispatch",()=>[{no:1,name:"agent_name",kind:"scalar",T:9},{no:2,name:"metadata",kind:"scalar",T:9}]),eG=(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"agent_name",kind:"scalar",T:9},{no:3,name:"room",kind:"scalar",T:9},{no:4,name:"metadata",kind:"scalar",T:9},{no:5,name:"state",kind:"message",T:eG}],ek.makeMessageType("livekit.AgentDispatchState",()=>[{no:1,name:"jobs",kind:"message",T:eB,repeated:!0},{no:2,name:"created_at",kind:"scalar",T:3},{no:3,name:"deleted_at",kind:"scalar",T:3}])),eV=ek.makeEnum("livekit.EncodedFileType",[{no:0,name:"DEFAULT_FILETYPE"},{no:1,name:"MP4"},{no:2,name:"OGG"}]),eK=ek.makeEnum("livekit.SegmentedFileProtocol",[{no:0,name:"DEFAULT_SEGMENTED_FILE_PROTOCOL"},{no:1,name:"HLS_PROTOCOL"}]),eW=ek.makeEnum("livekit.SegmentedFileSuffix",[{no:0,name:"INDEX"},{no:1,name:"TIMESTAMP"}]),ez=ek.makeEnum("livekit.ImageFileSuffix",[{no:0,name:"IMAGE_SUFFIX_INDEX"},{no:1,name:"IMAGE_SUFFIX_TIMESTAMP"}]),eX=ek.makeEnum("livekit.StreamProtocol",[{no:0,name:"DEFAULT_PROTOCOL"},{no:1,name:"RTMP"},{no:2,name:"SRT"}]),eY=ek.makeEnum("livekit.EncodingOptionsPreset",[{no:0,name:"H264_720P_30"},{no:1,name:"H264_720P_60"},{no:2,name:"H264_1080P_30"},{no:3,name:"H264_1080P_60"},{no:4,name:"PORTRAIT_H264_720P_30"},{no:5,name:"PORTRAIT_H264_720P_60"},{no:6,name:"PORTRAIT_H264_1080P_30"},{no:7,name:"PORTRAIT_H264_1080P_60"}]),eZ=ek.makeEnum("livekit.EgressStatus",[{no:0,name:"EGRESS_STARTING"},{no:1,name:"EGRESS_ACTIVE"},{no:2,name:"EGRESS_ENDING"},{no:3,name:"EGRESS_COMPLETE"},{no:4,name:"EGRESS_FAILED"},{no:5,name:"EGRESS_ABORTED"},{no:6,name:"EGRESS_LIMIT_REACHED"}]),eQ=ek.makeEnum("livekit.EgressSourceType",[{no:0,name:"EGRESS_SOURCE_TYPE_WEB",localName:"WEB"},{no:1,name:"EGRESS_SOURCE_TYPE_SDK",localName:"SDK"}]),e0=ek.makeMessageType("livekit.RoomCompositeEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"layout",kind:"scalar",T:9},{no:3,name:"audio_only",kind:"scalar",T:8},{no:4,name:"video_only",kind:"scalar",T:8},{no:5,name:"custom_base_url",kind:"scalar",T:9},{no:6,name:"file",kind:"message",T:e6,oneof:"output"},{no:7,name:"stream",kind:"message",T:tr,oneof:"output"},{no:10,name:"segments",kind:"message",T:e9,oneof:"output"},{no:8,name:"preset",kind:"enum",T:ek.getEnumType(eY),oneof:"options"},{no:9,name:"advanced",kind:"message",T:ti,oneof:"options"},{no:11,name:"file_outputs",kind:"message",T:e6,repeated:!0},{no:12,name:"stream_outputs",kind:"message",T:tr,repeated:!0},{no:13,name:"segment_outputs",kind:"message",T:e9,repeated:!0},{no:14,name:"image_outputs",kind:"message",T:e5,repeated:!0}]),e1=ek.makeMessageType("livekit.WebEgressRequest",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"audio_only",kind:"scalar",T:8},{no:3,name:"video_only",kind:"scalar",T:8},{no:12,name:"await_start_signal",kind:"scalar",T:8},{no:4,name:"file",kind:"message",T:e6,oneof:"output"},{no:5,name:"stream",kind:"message",T:tr,oneof:"output"},{no:6,name:"segments",kind:"message",T:e9,oneof:"output"},{no:7,name:"preset",kind:"enum",T:ek.getEnumType(eY),oneof:"options"},{no:8,name:"advanced",kind:"message",T:ti,oneof:"options"},{no:9,name:"file_outputs",kind:"message",T:e6,repeated:!0},{no:10,name:"stream_outputs",kind:"message",T:tr,repeated:!0},{no:11,name:"segment_outputs",kind:"message",T:e9,repeated:!0},{no:13,name:"image_outputs",kind:"message",T:e5,repeated:!0}]),e2=ek.makeMessageType("livekit.ParticipantEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"screen_share",kind:"scalar",T:8},{no:4,name:"preset",kind:"enum",T:ek.getEnumType(eY),oneof:"options"},{no:5,name:"advanced",kind:"message",T:ti,oneof:"options"},{no:6,name:"file_outputs",kind:"message",T:e6,repeated:!0},{no:7,name:"stream_outputs",kind:"message",T:tr,repeated:!0},{no:8,name:"segment_outputs",kind:"message",T:e9,repeated:!0},{no:9,name:"image_outputs",kind:"message",T:e5,repeated:!0}]),e3=ek.makeMessageType("livekit.TrackCompositeEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"audio_track_id",kind:"scalar",T:9},{no:3,name:"video_track_id",kind:"scalar",T:9},{no:4,name:"file",kind:"message",T:e6,oneof:"output"},{no:5,name:"stream",kind:"message",T:tr,oneof:"output"},{no:8,name:"segments",kind:"message",T:e9,oneof:"output"},{no:6,name:"preset",kind:"enum",T:ek.getEnumType(eY),oneof:"options"},{no:7,name:"advanced",kind:"message",T:ti,oneof:"options"},{no:11,name:"file_outputs",kind:"message",T:e6,repeated:!0},{no:12,name:"stream_outputs",kind:"message",T:tr,repeated:!0},{no:13,name:"segment_outputs",kind:"message",T:e9,repeated:!0},{no:14,name:"image_outputs",kind:"message",T:e5,repeated:!0}]),e4=ek.makeMessageType("livekit.TrackEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"track_id",kind:"scalar",T:9},{no:3,name:"file",kind:"message",T:e8,oneof:"output"},{no:4,name:"websocket_url",kind:"scalar",T:9,oneof:"output"}]),e6=ek.makeMessageType("livekit.EncodedFileOutput",()=>[{no:1,name:"file_type",kind:"enum",T:ek.getEnumType(eV)},{no:2,name:"filepath",kind:"scalar",T:9},{no:6,name:"disable_manifest",kind:"scalar",T:8},{no:3,name:"s3",kind:"message",T:e7,oneof:"output"},{no:4,name:"gcp",kind:"message",T:te,oneof:"output"},{no:5,name:"azure",kind:"message",T:tt,oneof:"output"},{no:7,name:"aliOSS",kind:"message",T:tn,oneof:"output"}]),e9=ek.makeMessageType("livekit.SegmentedFileOutput",()=>[{no:1,name:"protocol",kind:"enum",T:ek.getEnumType(eK)},{no:2,name:"filename_prefix",kind:"scalar",T:9},{no:3,name:"playlist_name",kind:"scalar",T:9},{no:11,name:"live_playlist_name",kind:"scalar",T:9},{no:4,name:"segment_duration",kind:"scalar",T:13},{no:10,name:"filename_suffix",kind:"enum",T:ek.getEnumType(eW)},{no:8,name:"disable_manifest",kind:"scalar",T:8},{no:5,name:"s3",kind:"message",T:e7,oneof:"output"},{no:6,name:"gcp",kind:"message",T:te,oneof:"output"},{no:7,name:"azure",kind:"message",T:tt,oneof:"output"},{no:9,name:"aliOSS",kind:"message",T:tn,oneof:"output"}]),e8=ek.makeMessageType("livekit.DirectFileOutput",()=>[{no:1,name:"filepath",kind:"scalar",T:9},{no:5,name:"disable_manifest",kind:"scalar",T:8},{no:2,name:"s3",kind:"message",T:e7,oneof:"output"},{no:3,name:"gcp",kind:"message",T:te,oneof:"output"},{no:4,name:"azure",kind:"message",T:tt,oneof:"output"},{no:6,name:"aliOSS",kind:"message",T:tn,oneof:"output"}]),e5=ek.makeMessageType("livekit.ImageOutput",()=>[{no:1,name:"capture_interval",kind:"scalar",T:13},{no:2,name:"width",kind:"scalar",T:5},{no:3,name:"height",kind:"scalar",T:5},{no:4,name:"filename_prefix",kind:"scalar",T:9},{no:5,name:"filename_suffix",kind:"enum",T:ek.getEnumType(ez)},{no:6,name:"image_codec",kind:"enum",T:ek.getEnumType(ew)},{no:7,name:"disable_manifest",kind:"scalar",T:8},{no:8,name:"s3",kind:"message",T:e7,oneof:"output"},{no:9,name:"gcp",kind:"message",T:te,oneof:"output"},{no:10,name:"azure",kind:"message",T:tt,oneof:"output"},{no:11,name:"aliOSS",kind:"message",T:tn,oneof:"output"}]),e7=ek.makeMessageType("livekit.S3Upload",()=>[{no:1,name:"access_key",kind:"scalar",T:9},{no:2,name:"secret",kind:"scalar",T:9},{no:11,name:"session_token",kind:"scalar",T:9},{no:3,name:"region",kind:"scalar",T:9},{no:4,name:"endpoint",kind:"scalar",T:9},{no:5,name:"bucket",kind:"scalar",T:9},{no:6,name:"force_path_style",kind:"scalar",T:8},{no:7,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:8,name:"tagging",kind:"scalar",T:9},{no:9,name:"content_disposition",kind:"scalar",T:9},{no:10,name:"proxy",kind:"message",T:ta}]),te=ek.makeMessageType("livekit.GCPUpload",()=>[{no:1,name:"credentials",kind:"scalar",T:9},{no:2,name:"bucket",kind:"scalar",T:9},{no:3,name:"proxy",kind:"message",T:ta}]),tt=ek.makeMessageType("livekit.AzureBlobUpload",()=>[{no:1,name:"account_name",kind:"scalar",T:9},{no:2,name:"account_key",kind:"scalar",T:9},{no:3,name:"container_name",kind:"scalar",T:9}]),tn=ek.makeMessageType("livekit.AliOSSUpload",()=>[{no:1,name:"access_key",kind:"scalar",T:9},{no:2,name:"secret",kind:"scalar",T:9},{no:3,name:"region",kind:"scalar",T:9},{no:4,name:"endpoint",kind:"scalar",T:9},{no:5,name:"bucket",kind:"scalar",T:9}]),ta=ek.makeMessageType("livekit.ProxyConfig",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"password",kind:"scalar",T:9}]),tr=ek.makeMessageType("livekit.StreamOutput",()=>[{no:1,name:"protocol",kind:"enum",T:ek.getEnumType(eX)},{no:2,name:"urls",kind:"scalar",T:9,repeated:!0}]),ti=ek.makeMessageType("livekit.EncodingOptions",()=>[{no:1,name:"width",kind:"scalar",T:5},{no:2,name:"height",kind:"scalar",T:5},{no:3,name:"depth",kind:"scalar",T:5},{no:4,name:"framerate",kind:"scalar",T:5},{no:5,name:"audio_codec",kind:"enum",T:ek.getEnumType(eb)},{no:6,name:"audio_bitrate",kind:"scalar",T:5},{no:11,name:"audio_quality",kind:"scalar",T:5},{no:7,name:"audio_frequency",kind:"scalar",T:5},{no:8,name:"video_codec",kind:"enum",T:ek.getEnumType(ey)},{no:9,name:"video_bitrate",kind:"scalar",T:5},{no:12,name:"video_quality",kind:"scalar",T:5},{no:10,name:"key_frame_interval",kind:"scalar",T:1}]),ts=ek.makeMessageType("livekit.UpdateLayoutRequest",()=>[{no:1,name:"egress_id",kind:"scalar",T:9},{no:2,name:"layout",kind:"scalar",T:9}]),to=ek.makeMessageType("livekit.UpdateStreamRequest",()=>[{no:1,name:"egress_id",kind:"scalar",T:9},{no:2,name:"add_output_urls",kind:"scalar",T:9,repeated:!0},{no:3,name:"remove_output_urls",kind:"scalar",T:9,repeated:!0}]),tl=ek.makeMessageType("livekit.ListEgressRequest",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"egress_id",kind:"scalar",T:9},{no:3,name:"active",kind:"scalar",T:8}]),tu=ek.makeMessageType("livekit.ListEgressResponse",()=>[{no:1,name:"items",kind:"message",T:tc,repeated:!0}]),td=ek.makeMessageType("livekit.StopEgressRequest",()=>[{no:1,name:"egress_id",kind:"scalar",T:9}]),tc=ek.makeMessageType("livekit.EgressInfo",()=>[{no:1,name:"egress_id",kind:"scalar",T:9},{no:2,name:"room_id",kind:"scalar",T:9},{no:13,name:"room_name",kind:"scalar",T:9},{no:26,name:"source_type",kind:"enum",T:ek.getEnumType(eQ)},{no:3,name:"status",kind:"enum",T:ek.getEnumType(eZ)},{no:10,name:"started_at",kind:"scalar",T:3},{no:11,name:"ended_at",kind:"scalar",T:3},{no:18,name:"updated_at",kind:"scalar",T:3},{no:21,name:"details",kind:"scalar",T:9},{no:9,name:"error",kind:"scalar",T:9},{no:22,name:"error_code",kind:"scalar",T:5},{no:4,name:"room_composite",kind:"message",T:e0,oneof:"request"},{no:14,name:"web",kind:"message",T:e1,oneof:"request"},{no:19,name:"participant",kind:"message",T:e2,oneof:"request"},{no:5,name:"track_composite",kind:"message",T:e3,oneof:"request"},{no:6,name:"track",kind:"message",T:e4,oneof:"request"},{no:7,name:"stream",kind:"message",T:tm,oneof:"result"},{no:8,name:"file",kind:"message",T:th,oneof:"result"},{no:12,name:"segments",kind:"message",T:tg,oneof:"result"},{no:15,name:"stream_results",kind:"message",T:tp,repeated:!0},{no:16,name:"file_results",kind:"message",T:th,repeated:!0},{no:17,name:"segment_results",kind:"message",T:tg,repeated:!0},{no:20,name:"image_results",kind:"message",T:tk,repeated:!0},{no:23,name:"manifest_location",kind:"scalar",T:9},{no:25,name:"backup_storage_used",kind:"scalar",T:8}]),tm=ek.makeMessageType("livekit.StreamInfoList",()=>[{no:1,name:"info",kind:"message",T:tp,repeated:!0}]),tp=ek.makeMessageType("livekit.StreamInfo",()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3},{no:4,name:"duration",kind:"scalar",T:3},{no:5,name:"status",kind:"enum",T:ek.getEnumType(tf)},{no:6,name:"error",kind:"scalar",T:9}]),tf=ek.makeEnum("livekit.StreamInfo.Status",[{no:0,name:"ACTIVE"},{no:1,name:"FINISHED"},{no:2,name:"FAILED"}]),th=ek.makeMessageType("livekit.FileInfo",()=>[{no:1,name:"filename",kind:"scalar",T:9},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3},{no:6,name:"duration",kind:"scalar",T:3},{no:4,name:"size",kind:"scalar",T:3},{no:5,name:"location",kind:"scalar",T:9}]),tg=ek.makeMessageType("livekit.SegmentsInfo",()=>[{no:1,name:"playlist_name",kind:"scalar",T:9},{no:8,name:"live_playlist_name",kind:"scalar",T:9},{no:2,name:"duration",kind:"scalar",T:3},{no:3,name:"size",kind:"scalar",T:3},{no:4,name:"playlist_location",kind:"scalar",T:9},{no:9,name:"live_playlist_location",kind:"scalar",T:9},{no:5,name:"segment_count",kind:"scalar",T:3},{no:6,name:"started_at",kind:"scalar",T:3},{no:7,name:"ended_at",kind:"scalar",T:3}]),tk=ek.makeMessageType("livekit.ImagesInfo",()=>[{no:4,name:"filename_prefix",kind:"scalar",T:9},{no:1,name:"image_count",kind:"scalar",T:3},{no:2,name:"started_at",kind:"scalar",T:3},{no:3,name:"ended_at",kind:"scalar",T:3}]),tT=ek.makeMessageType("livekit.AutoParticipantEgress",()=>[{no:1,name:"preset",kind:"enum",T:ek.getEnumType(eY),oneof:"options"},{no:2,name:"advanced",kind:"message",T:ti,oneof:"options"},{no:3,name:"file_outputs",kind:"message",T:e6,repeated:!0},{no:4,name:"segment_outputs",kind:"message",T:e9,repeated:!0}]),tb=ek.makeMessageType("livekit.AutoTrackEgress",()=>[{no:1,name:"filepath",kind:"scalar",T:9},{no:5,name:"disable_manifest",kind:"scalar",T:8},{no:2,name:"s3",kind:"message",T:e7,oneof:"output"},{no:3,name:"gcp",kind:"message",T:te,oneof:"output"},{no:4,name:"azure",kind:"message",T:tt,oneof:"output"},{no:6,name:"aliOSS",kind:"message",T:tn,oneof:"output"}]),ty=ek.makeEnum("livekit.IngressInput",[{no:0,name:"RTMP_INPUT"},{no:1,name:"WHIP_INPUT"},{no:2,name:"URL_INPUT"}]),tw=ek.makeEnum("livekit.IngressAudioEncodingPreset",[{no:0,name:"OPUS_STEREO_96KBPS"},{no:1,name:"OPUS_MONO_64KBS"}]),t_=ek.makeEnum("livekit.IngressVideoEncodingPreset",[{no:0,name:"H264_720P_30FPS_3_LAYERS"},{no:1,name:"H264_1080P_30FPS_3_LAYERS"},{no:2,name:"H264_540P_25FPS_2_LAYERS"},{no:3,name:"H264_720P_30FPS_1_LAYER"},{no:4,name:"H264_1080P_30FPS_1_LAYER"},{no:5,name:"H264_720P_30FPS_3_LAYERS_HIGH_MOTION"},{no:6,name:"H264_1080P_30FPS_3_LAYERS_HIGH_MOTION"},{no:7,name:"H264_540P_25FPS_2_LAYERS_HIGH_MOTION"},{no:8,name:"H264_720P_30FPS_1_LAYER_HIGH_MOTION"},{no:9,name:"H264_1080P_30FPS_1_LAYER_HIGH_MOTION"}]),tv=ek.makeMessageType("livekit.IngressAudioOptions",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"source",kind:"enum",T:ek.getEnumType(eE)},{no:3,name:"preset",kind:"enum",T:ek.getEnumType(tw),oneof:"encoding_options"},{no:4,name:"options",kind:"message",T:tS,oneof:"encoding_options"}]),tE=ek.makeMessageType("livekit.IngressVideoOptions",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"source",kind:"enum",T:ek.getEnumType(eE)},{no:3,name:"preset",kind:"enum",T:ek.getEnumType(t_),oneof:"encoding_options"},{no:4,name:"options",kind:"message",T:tI,oneof:"encoding_options"}]),tS=ek.makeMessageType("livekit.IngressAudioEncodingOptions",()=>[{no:1,name:"audio_codec",kind:"enum",T:ek.getEnumType(eb)},{no:2,name:"bitrate",kind:"scalar",T:13},{no:3,name:"disable_dtx",kind:"scalar",T:8},{no:4,name:"channels",kind:"scalar",T:13}]),tI=ek.makeMessageType("livekit.IngressVideoEncodingOptions",()=>[{no:1,name:"video_codec",kind:"enum",T:ek.getEnumType(ey)},{no:2,name:"frame_rate",kind:"scalar",T:1},{no:3,name:"layers",kind:"message",T:eF,repeated:!0}]),tN=(()=>[{no:1,name:"ingress_id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"stream_key",kind:"scalar",T:9},{no:4,name:"url",kind:"scalar",T:9},{no:5,name:"input_type",kind:"enum",T:ek.getEnumType(ty)},{no:13,name:"bypass_transcoding",kind:"scalar",T:8},{no:15,name:"enable_transcoding",kind:"scalar",T:8,opt:!0},{no:6,name:"audio",kind:"message",T:tv},{no:7,name:"video",kind:"message",T:tE},{no:8,name:"room_name",kind:"scalar",T:9},{no:9,name:"participant_identity",kind:"scalar",T:9},{no:10,name:"participant_name",kind:"scalar",T:9},{no:14,name:"participant_metadata",kind:"scalar",T:9},{no:11,name:"reusable",kind:"scalar",T:8},{no:12,name:"state",kind:"message",T:tN},{no:16,name:"enabled",kind:"scalar",T:8,opt:!0}],ek.makeMessageType("livekit.IngressState",()=>[{no:1,name:"status",kind:"enum",T:ek.getEnumType(tO)},{no:2,name:"error",kind:"scalar",T:9},{no:3,name:"video",kind:"message",T:tP},{no:4,name:"audio",kind:"message",T:tA},{no:5,name:"room_id",kind:"scalar",T:9},{no:7,name:"started_at",kind:"scalar",T:3},{no:8,name:"ended_at",kind:"scalar",T:3},{no:10,name:"updated_at",kind:"scalar",T:3},{no:9,name:"resource_id",kind:"scalar",T:9},{no:6,name:"tracks",kind:"message",T:eD,repeated:!0}])),tO=ek.makeEnum("livekit.IngressState.Status",[{no:0,name:"ENDPOINT_INACTIVE"},{no:1,name:"ENDPOINT_BUFFERING"},{no:2,name:"ENDPOINT_PUBLISHING"},{no:3,name:"ENDPOINT_ERROR"},{no:4,name:"ENDPOINT_COMPLETE"}]),tP=ek.makeMessageType("livekit.InputVideoState",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"average_bitrate",kind:"scalar",T:13},{no:3,name:"width",kind:"scalar",T:13},{no:4,name:"height",kind:"scalar",T:13},{no:5,name:"framerate",kind:"scalar",T:1}]),tA=ek.makeMessageType("livekit.InputAudioState",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"average_bitrate",kind:"scalar",T:13},{no:3,name:"channels",kind:"scalar",T:13},{no:4,name:"sample_rate",kind:"scalar",T:13}]),tx=ek.makeMessageType("livekit.RoomEgress",()=>[{no:1,name:"room",kind:"message",T:e0},{no:3,name:"participant",kind:"message",T:tT},{no:2,name:"tracks",kind:"message",T:tb}]),tR=ek.makeMessageType("livekit.RoomConfiguration",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"empty_timeout",kind:"scalar",T:13},{no:3,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"egress",kind:"message",T:tx},{no:7,name:"min_playout_delay",kind:"scalar",T:13},{no:8,name:"max_playout_delay",kind:"scalar",T:13},{no:9,name:"sync_streams",kind:"scalar",T:8},{no:10,name:"agents",kind:"message",T:eq,repeated:!0}]),tU=ek.makeEnum("livekit.SIPTransport",[{no:0,name:"SIP_TRANSPORT_AUTO"},{no:1,name:"SIP_TRANSPORT_UDP"},{no:2,name:"SIP_TRANSPORT_TCP"},{no:3,name:"SIP_TRANSPORT_TLS"}]),tL=ek.makeEnum("livekit.SIPHeaderOptions",[{no:0,name:"SIP_NO_HEADERS"},{no:1,name:"SIP_X_HEADERS"},{no:2,name:"SIP_ALL_HEADERS"}]),tj=ek.makeEnum("livekit.SIPMediaEncryption",[{no:0,name:"SIP_MEDIA_ENCRYPT_DISABLE"},{no:1,name:"SIP_MEDIA_ENCRYPT_ALLOW"},{no:2,name:"SIP_MEDIA_ENCRYPT_REQUIRE"}]),tD=ek.makeEnum("livekit.SIPTrunkInfo.TrunkKind",[{no:0,name:"TRUNK_LEGACY"},{no:1,name:"TRUNK_INBOUND"},{no:2,name:"TRUNK_OUTBOUND"}]),tF=(()=>[{no:1,name:"sip_trunk_id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"metadata",kind:"scalar",T:9},{no:4,name:"numbers",kind:"scalar",T:9,repeated:!0},{no:5,name:"allowed_addresses",kind:"scalar",T:9,repeated:!0},{no:6,name:"allowed_numbers",kind:"scalar",T:9,repeated:!0},{no:7,name:"auth_username",kind:"scalar",T:9},{no:8,name:"auth_password",kind:"scalar",T:9},{no:9,name:"headers",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:10,name:"headers_to_attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:14,name:"attributes_to_headers",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:15,name:"include_headers",kind:"enum",T:ek.getEnumType(tL)},{no:11,name:"ringing_timeout",kind:"message",T:eT},{no:12,name:"max_call_duration",kind:"message",T:eT},{no:13,name:"krisp_enabled",kind:"scalar",T:8},{no:16,name:"media_encryption",kind:"enum",T:ek.getEnumType(tj)}],ek.makeMessageType("livekit.SIPDispatchRuleDirect",()=>[{no:1,name:"room_name",kind:"scalar",T:9},{no:2,name:"pin",kind:"scalar",T:9}])),tC=ek.makeMessageType("livekit.SIPDispatchRuleIndividual",()=>[{no:1,name:"room_prefix",kind:"scalar",T:9},{no:2,name:"pin",kind:"scalar",T:9}]),tM=ek.makeMessageType("livekit.SIPDispatchRuleCallee",()=>[{no:1,name:"room_prefix",kind:"scalar",T:9},{no:2,name:"pin",kind:"scalar",T:9},{no:3,name:"randomize",kind:"scalar",T:8}]),tH=ek.makeMessageType("livekit.SIPDispatchRule",()=>[{no:1,name:"dispatch_rule_direct",kind:"message",T:tF,oneof:"rule"},{no:2,name:"dispatch_rule_individual",kind:"message",T:tC,oneof:"rule"},{no:3,name:"dispatch_rule_callee",kind:"message",T:tM,oneof:"rule"}]);var t$,tB,tJ,tq,tG,tV=n(2254);let tK=e=>tV.Buffer.from(e).toString("base64url");var tW=n(6005),tz=n(7261);class tX extends Error{static get code(){return"ERR_JOSE_GENERIC"}code="ERR_JOSE_GENERIC";constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class tY extends tX{static get code(){return"ERR_JOSE_NOT_SUPPORTED"}code="ERR_JOSE_NOT_SUPPORTED"}class tZ extends tX{static get code(){return"ERR_JWS_INVALID"}code="ERR_JWS_INVALID"}class tQ extends tX{static get code(){return"ERR_JWT_INVALID"}code="ERR_JWT_INVALID"}Symbol.asyncIterator;let t0=tW.webcrypto,t1=e=>tz.types.isCryptoKey(e),t2=e=>tz.types.isKeyObject(e);function t3(e,t,...n){if((n=n.filter(Boolean)).length>2){let t=n.pop();e+=`one of type ${n.join(", ")}, or ${t}.`}else 2===n.length?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let t4=(e,...t)=>t3("Key must be ",e,...t);function t6(e,t,...n){return t3(`Key for the ${e} algorithm must be `,t,...n)}let t9=e=>t2(e)||t1(e),t8=["KeyObject"];function t5(e){if(!("object"==typeof e&&null!==e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function t7(e){return t5(e)&&"string"==typeof e.kty}(globalThis.CryptoKey||t0?.CryptoKey)&&t8.push("CryptoKey"),new WeakMap;let ne=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new tY("Unsupported key curve for this operation")}},nt=(e,t)=>{let n;if(t1(e))n=tW.KeyObject.from(e);else if(t2(e))n=e;else if(t7(e))return e.crv;else throw TypeError(t4(e,...t8));if("secret"===n.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(n.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${n.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${n.asymmetricKeyType.slice(1)}`;case"ec":{let e=n.asymmetricKeyDetails.namedCurve;if(t)return e;return ne(e)}default:throw TypeError("Invalid asymmetric key type for this operation")}},nn=(e,t)=>{let n;try{n=e instanceof tW.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof n||n<2048)throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)},na=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function nr(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function ni(e,t){return e.name===t}function ns(e){return parseInt(e.name.slice(4),10)}let no=(0,tz.promisify)(tW.sign),nl=async(e,t,n)=>{let a=function(e,t,n){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(t4(t,...t8));return(0,tW.createSecretKey)(t)}if(t instanceof tW.KeyObject)return t;if(t1(t))return function(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!ni(e.algorithm,"HMAC"))throw nr("HMAC");let n=parseInt(t.slice(2),10);if(ns(e.algorithm.hash)!==n)throw nr(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!ni(e.algorithm,"RSASSA-PKCS1-v1_5"))throw nr("RSASSA-PKCS1-v1_5");let n=parseInt(t.slice(2),10);if(ns(e.algorithm.hash)!==n)throw nr(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!ni(e.algorithm,"RSA-PSS"))throw nr("RSA-PSS");let n=parseInt(t.slice(2),10);if(ns(e.algorithm.hash)!==n)throw nr(`SHA-${n}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw nr("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!ni(e.algorithm,"ECDSA"))throw nr("ECDSA");let n=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==n)throw nr(n,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}(function(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let n=t.pop();e+=`one of ${t.join(", ")}, or ${n}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}})(e,n)}(t,e,n),tW.KeyObject.from(t);if(t7(t))return e.startsWith("HS")?(0,tW.createSecretKey)(Buffer.from(t.k,"base64url")):t;throw TypeError(t4(t,...t8,"Uint8Array","JSON Web Key"))}(e,t,"sign");if(e.startsWith("HS")){let t=tW.createHmac(function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new tY(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e),a);return t.update(n),t.digest()}return no(function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new tY(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e),n,function(e,t){let n,a,r,i;if(t instanceof tW.KeyObject)n=t.asymmetricKeyType,a=t.asymmetricKeyDetails;else switch(r=!0,t.kty){case"RSA":n="rsa";break;case"EC":n="ec";break;case"OKP":if("Ed25519"===t.crv){n="ed25519";break}if("Ed448"===t.crv){n="ed448";break}throw TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448");default:throw TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(n))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if("rsa"!==n)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");nn(t,e);break;case"PS256":case"PS384":case"PS512":if("rsa-pss"===n){let{hashAlgorithm:t,mgf1HashAlgorithm:n,saltLength:r}=a,i=parseInt(e.slice(-3),10);if(void 0!==t&&(t!==`sha${i}`||n!==t))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==r&&r>i>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==n)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");nn(t,e),i={padding:tW.constants.RSA_PKCS1_PSS_PADDING,saltLength:tW.constants.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==n)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let a=nt(t),r=na.get(e);if(a!==r)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${r}, got ${a}`);i={dsaEncoding:"ieee-p1363"};break}default:throw new tY(`alg ${e} is not supported either by JOSE or your javascript runtime`)}return r?{format:"jwk",key:t,...i}:i?{...i,key:t}:t}(e,a))},nu=(...e)=>{let t;let n=e.filter(Boolean);if(0===n.length||1===n.length)return!0;for(let e of n){let n=Object.keys(e);if(!t||0===t.size){t=new Set(n);continue}for(let e of n){if(t.has(e))return!1;t.add(e)}}return!0},nd=new TextEncoder,nc=new TextDecoder,nm=e=>e?.[Symbol.toStringTag],np=(e,t,n)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(n)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},nf=(e,t,n,a)=>{if(!(t instanceof Uint8Array)){if(a&&t7(t)){if(function(e){return t7(e)&&"oct"===e.kty&&"string"==typeof e.k}(t)&&np(e,t,n))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!t9(t))throw TypeError(t6(e,t,...t8,"Uint8Array",a?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${nm(t)} instances for symmetric algorithms must be of type "secret"`)}},nh=(e,t,n,a)=>{if(a&&t7(t))switch(n){case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&np(e,t,n))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&np(e,t,n))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!t9(t))throw TypeError(t6(e,t,...t8,a?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${nm(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===n&&"public"===t.type)throw TypeError(`${nm(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===n&&"public"===t.type)throw TypeError(`${nm(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===n&&"private"===t.type)throw TypeError(`${nm(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===n&&"private"===t.type)throw TypeError(`${nm(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function ng(e,t,n,a){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?nf(t,n,a,e):nh(t,n,a,e)}ng.bind(void 0,!1);let nk=ng.bind(void 0,!0),nT=function(e,t,n,a,r){let i;if(void 0!==r.crit&&a?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!a||void 0===a.crit)return new Set;if(!Array.isArray(a.crit)||0===a.crit.length||a.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(i=void 0!==n?new Map([...Object.entries(n),...t.entries()]):t,a.crit)){if(!i.has(s))throw new tY(`Extension Header Parameter "${s}" is not recognized`);if(void 0===r[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(i.get(s)&&void 0===a[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(a.crit)};class nb{_payload;_protectedHeader;_unprotectedHeader;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let n;if(!this._protectedHeader&&!this._unprotectedHeader)throw new tZ("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!nu(this._protectedHeader,this._unprotectedHeader))throw new tZ("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let a={...this._protectedHeader,...this._unprotectedHeader},r=nT(tZ,new Map([["b64",!0]]),t?.crit,this._protectedHeader,a),i=!0;if(r.has("b64")&&"boolean"!=typeof(i=this._protectedHeader.b64))throw new tZ('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:s}=a;if("string"!=typeof s||!s)throw new tZ('JWS "alg" (Algorithm) Header Parameter missing or invalid');nk(s,e,"sign");let o=this._payload;i&&(o=nd.encode(tK(o)));let l=function(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),n=0;for(let a of e)t.set(a,n),n+=a.length;return t}(n=this._protectedHeader?nd.encode(tK(JSON.stringify(this._protectedHeader))):nd.encode(""),nd.encode("."),o),u={signature:tK(await nl(s,e,l)),payload:""};return i&&(u.payload=nc.decode(o)),this._unprotectedHeader&&(u.header=this._unprotectedHeader),this._protectedHeader&&(u.protected=nc.decode(n)),u}}class ny{_flattened;constructor(e){this._flattened=new nb(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let n=await this._flattened.sign(e,t);if(void 0===n.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}let nw=e=>Math.floor(e.getTime()/1e3),n_=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,nv=e=>{let t;let n=n_.exec(e);if(!n||n[4]&&n[1])throw TypeError("Invalid time period format");let a=parseFloat(n[2]);switch(n[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(a);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*a);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*a);break;case"day":case"days":case"d":t=Math.round(86400*a);break;case"week":case"weeks":case"w":t=Math.round(604800*a);break;default:t=Math.round(31557600*a)}return"-"===n[1]||"ago"===n[4]?-t:t};function nE(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class nS{_payload;constructor(e={}){if(!t5(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:nE("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:nE("setNotBefore",nw(e))}:this._payload={...this._payload,nbf:nw(new Date)+nv(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:nE("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:nE("setExpirationTime",nw(e))}:this._payload={...this._payload,exp:nw(new Date)+nv(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:nw(new Date)}:e instanceof Date?this._payload={...this._payload,iat:nE("setIssuedAt",nw(e))}:"string"==typeof e?this._payload={...this._payload,iat:nE("setIssuedAt",nw(new Date)+nv(e))}:this._payload={...this._payload,iat:nE("setIssuedAt",e)},this}}class nI extends nS{_protectedHeader;setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){let n=new ny(nd.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new tQ("JWTs MUST NOT use unencoded payload");return n.sign(e,t)}}function nN(e){switch(e){case eE.CAMERA:return"camera";case eE.MICROPHONE:return"microphone";case eE.SCREEN_SHARE:return"screen_share";case eE.SCREEN_SHARE_AUDIO:return"screen_share_audio";default:throw TypeError(`Cannot convert TrackSource ${e} to string`)}}class nO{constructor(e,t,n){if(e||(e=process.env.LIVEKIT_API_KEY),t||(t=process.env.LIVEKIT_API_SECRET),e&&t)"undefined"!=typeof document&&console.error("You should not include your API secret in your web client bundle.\n\nYour web client should request a token from your backend server which should then use the API secret to generate a token. See https://docs.livekit.io/client/connect/");else throw Error("api-key and api-secret must be set");this.apiKey=e,this.apiSecret=t,this.grants={},this.identity=null==n?void 0:n.identity,this.ttl=(null==n?void 0:n.ttl)||"6h","number"==typeof this.ttl&&(this.ttl=`${this.ttl}s`),(null==n?void 0:n.metadata)&&(this.metadata=n.metadata),(null==n?void 0:n.attributes)&&(this.attributes=n.attributes),(null==n?void 0:n.name)&&(this.name=n.name)}addGrant(e){this.grants.video={...this.grants.video??{},...e}}addSIPGrant(e){this.grants.sip={...this.grants.sip??{},...e}}get name(){return this.grants.name}set name(e){this.grants.name=e}get metadata(){return this.grants.metadata}set metadata(e){this.grants.metadata=e}get attributes(){return this.grants.attributes}set attributes(e){this.grants.attributes=e}get kind(){return this.grants.kind}set kind(e){this.grants.kind=e}get sha256(){return this.grants.sha256}set sha256(e){this.grants.sha256=e}get roomPreset(){return this.grants.roomPreset}set roomPreset(e){this.grants.roomPreset=e}get roomConfig(){return this.grants.roomConfig}set roomConfig(e){this.grants.roomConfig=e}async toJwt(){var e;let t=new TextEncoder().encode(this.apiSecret),n=new nI(function(e){var t;let n={...e};return Array.isArray(null==(t=n.video)?void 0:t.canPublishSources)&&(n.video.canPublishSources=n.video.canPublishSources.map(nN)),n}(this.grants)).setProtectedHeader({alg:"HS256"}).setIssuer(this.apiKey).setExpirationTime(this.ttl).setNotBefore(0);if(this.identity)n.setSubject(this.identity);else if(null==(e=this.grants.video)?void 0:e.roomJoin)throw Error("identity is required for join but not set");return n.sign(t)}}class nP{constructor(e,t,n){this.apiKey=e,this.secret=t,this.ttl=n||"10m"}async authHeader(e,t){let n=new nO(this.apiKey,this.secret,{ttl:this.ttl});return e&&n.addGrant(e),t&&n.addSIPGrant(t),{Authorization:`Bearer ${await n.toJwt()}`}}}class nA extends Error{constructor(e,t,n,a){super(t),this.name=e,this.status=n,this.code=a}}class nx{constructor(e,t,n){e.startsWith("ws")&&(e=e.replace("ws","http")),this.host=e,this.pkg=t,this.prefix=n||"/twirp"}async request(e,t,a,r){let i=new URL(`${this.prefix}/${this.pkg}.${e}/${t}`,this.host),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8",...r},body:JSON.stringify(a)});if(!s.ok){let e;let t="application/json"===s.headers.get("content-type"),n="Unknown internal error";try{if(t){let t=await s.json();"msg"in t&&(n=t.msg),"code"in t&&(e=t.code)}else n=await s.text()}catch(e){console.debug("Error when trying to parse error message, using defaults",e)}throw new nA(s.statusText,n,s.status,e)}let o=await s.json();return(await n.e(109).then(n.bind(n,1109)).then(e=>e.default))(o,{deep:!0})}}let nR="Egress";class nU extends nP{constructor(e,t,n){super(t,n),this.rpc=new nx(e,"livekit")}async startRoomCompositeEgress(e,t,n,a,r,i,s){let o;void 0!==n&&("string"==typeof n?o=n:(o=n.layout,a=n.encodingOptions,r=n.audioOnly,i=n.videoOnly,s=n.customBaseUrl)),o??="",r??=!1,i??=!1,s??="";let{output:l,options:u,fileOutputs:d,streamOutputs:c,segmentOutputs:m,imageOutputs:p}=this.getOutputParams(t,a),f=new e0({roomName:e,layout:o,audioOnly:r,videoOnly:i,customBaseUrl:s,output:l,options:u,fileOutputs:d,streamOutputs:c,segmentOutputs:m,imageOutputs:p}).toJson(),h=await this.rpc.request(nR,"StartRoomCompositeEgress",f,await this.authHeader({roomRecord:!0}));return tc.fromJson(h,{ignoreUnknownFields:!0})}async startWebEgress(e,t,n){let a=(null==n?void 0:n.audioOnly)||!1,r=(null==n?void 0:n.videoOnly)||!1,i=(null==n?void 0:n.awaitStartSignal)||!1,{output:s,options:o,fileOutputs:l,streamOutputs:u,segmentOutputs:d,imageOutputs:c}=this.getOutputParams(t,null==n?void 0:n.encodingOptions),m=new e1({url:e,audioOnly:a,videoOnly:r,awaitStartSignal:i,output:s,options:o,fileOutputs:l,streamOutputs:u,segmentOutputs:d,imageOutputs:c}).toJson(),p=await this.rpc.request(nR,"StartWebEgress",m,await this.authHeader({roomRecord:!0}));return tc.fromJson(p,{ignoreUnknownFields:!0})}async startParticipantEgress(e,t,n,a){let{options:r,fileOutputs:i,streamOutputs:s,segmentOutputs:o,imageOutputs:l}=this.getOutputParams(n,null==a?void 0:a.encodingOptions),u=new e2({roomName:e,identity:t,screenShare:(null==a?void 0:a.screenShare)??!1,options:r,fileOutputs:i,streamOutputs:s,segmentOutputs:o,imageOutputs:l}).toJson(),d=await this.rpc.request(nR,"StartParticipantEgress",u,await this.authHeader({roomRecord:!0}));return tc.fromJson(d,{ignoreUnknownFields:!0})}async startTrackCompositeEgress(e,t,n,a,r){let i;void 0!==n&&("string"==typeof n?i=n:(i=n.audioTrackId,a=n.videoTrackId,r=n.encodingOptions)),i??="",a??="";let{output:s,options:o,fileOutputs:l,streamOutputs:u,segmentOutputs:d,imageOutputs:c}=this.getOutputParams(t,r),m=new e3({roomName:e,audioTrackId:i,videoTrackId:a,output:s,options:o,fileOutputs:l,streamOutputs:u,segmentOutputs:d,imageOutputs:c}).toJson(),p=await this.rpc.request(nR,"StartTrackCompositeEgress",m,await this.authHeader({roomRecord:!0}));return tc.fromJson(p,{ignoreUnknownFields:!0})}isEncodedOutputs(e){return void 0!==e.file||void 0!==e.stream||void 0!==e.segments||void 0!==e.images}isEncodedFileOutput(e){return void 0!==e.filepath||void 0!==e.fileType}isSegmentedFileOutput(e){return void 0!==e.filenamePrefix||void 0!==e.playlistName||void 0!==e.filenameSuffix}isStreamOutput(e){return void 0!==e.protocol||void 0!==e.urls}getOutputParams(e,t){let n,a,r,i,s,o,l,u,d;return this.isEncodedOutputs(e)?(void 0!==e.file&&(a=[e.file]),void 0!==e.stream&&(i=[e.stream]),void 0!==e.segments&&(o=[e.segments]),void 0!==e.images&&(l=[e.images])):this.isEncodedFileOutput(e)?a=[n=e]:this.isSegmentedFileOutput(e)?o=[s=e]:this.isStreamOutput(e)&&(i=[r=e]),n?u={case:"file",value:n}:r?u={case:"stream",value:r}:s&&(u={case:"segments",value:s}),t&&(d="number"==typeof t?{case:"preset",value:t}:{case:"advanced",value:t}),{output:u,options:d,fileOutputs:a,streamOutputs:i,segmentOutputs:o,imageOutputs:l}}async startTrackEgress(e,t,n){let a=new e4({roomName:e,trackId:n,output:"string"==typeof t?{case:"websocketUrl",value:t}:{case:"file",value:t}}).toJson(),r=await this.rpc.request(nR,"StartTrackEgress",a,await this.authHeader({roomRecord:!0}));return tc.fromJson(r,{ignoreUnknownFields:!0})}async updateLayout(e,t){let n=await this.rpc.request(nR,"UpdateLayout",new ts({egressId:e,layout:t}).toJson(),await this.authHeader({roomRecord:!0}));return tc.fromJson(n,{ignoreUnknownFields:!0})}async updateStream(e,t,n){t??=[],n??=[];let a=await this.rpc.request(nR,"UpdateStream",new to({egressId:e,addOutputUrls:t,removeOutputUrls:n}).toJson(),await this.authHeader({roomRecord:!0}));return tc.fromJson(a,{ignoreUnknownFields:!0})}async listEgress(e){let t={};"string"==typeof e?t.roomName=e:void 0!==e&&(t=e);let n=await this.rpc.request(nR,"ListEgress",new tl(t).toJson(),await this.authHeader({roomRecord:!0}));return tu.fromJson(n,{ignoreUnknownFields:!0}).items??[]}async stopEgress(e){let t=await this.rpc.request(nR,"StopEgress",new td({egressId:e}).toJson(),await this.authHeader({roomRecord:!0}));return tc.fromJson(t,{ignoreUnknownFields:!0})}}}};