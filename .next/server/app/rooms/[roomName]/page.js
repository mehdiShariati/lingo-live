(()=>{var e={};e.id=516,e.ids=[516],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8145:(e,o,t)=>{"use strict";t.r(o),t.d(o,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>m,tree:()=>d}),t(7708),t(1978),t(867);var r=t(4257),s=t(9184),n=t(2259),a=t.n(n),i=t(57),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(o,c);let d=["",{children:["rooms",{children:["[roomName]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7708)),"D:\\meet\\app\\rooms\\[roomName]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1978)),"D:\\meet\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,867,23)),"next/dist/client/components/not-found-error"]}],l=["D:\\meet\\app\\rooms\\[roomName]\\page.tsx"],u="/rooms/[roomName]/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/rooms/[roomName]/page",pathname:"/rooms/[roomName]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9597:(e,o,t)=>{Promise.resolve().then(t.bind(t,2512))},2512:(e,o,t)=>{"use strict";t.d(o,{PageClientImpl:()=>g});var r=t(4495),s=t(8184),n=t(7258),a=t(3247),i=t.n(a);function c(){let e=(0,n.Y)(),[o,t]=a.useState(!1);return a.useEffect(()=>{e!==o&&(t(e),e&&window.alert("This meeting is being recorded"))},[e]),r.jsx("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",boxShadow:e?"red 0px 0px 0px 3px inset":"none",pointerEvents:"none"}})}var d=t(9265),l=t(3793),u=t(9719),p=t(7004),m=t(7798),h=t(8828);let v=process.env.NEXT_PUBLIC_CONN_DETAILS_ENDPOINT??"/api/connection-details",x="true"==process.env.NEXT_PUBLIC_SHOW_SETTINGS_MENU;function g(e){let[o,t]=i().useState(void 0),s=i().useMemo(()=>({username:"",videoEnabled:!0,audioEnabled:!0}),[]),[n,a]=i().useState(void 0),c=i().useCallback(async o=>{t(o);let r=new URL(v,window.location.origin);r.searchParams.append("roomName",e.roomName),r.searchParams.append("participantName",o.username),e.region&&r.searchParams.append("region",e.region);let s=await fetch(r.toString());a(await s.json())},[]),d=i().useCallback(e=>console.error(e),[]);return r.jsx("main",{"data-lk-theme":"default",style:{height:"100%"},children:void 0===n||void 0===o?r.jsx("div",{style:{display:"grid",placeItems:"center",height:"100%"},children:r.jsx(l.tt,{defaults:s,onSubmit:c,onError:d})}):r.jsx(P,{connectionDetails:n,userChoices:o,options:{codec:e.codec,hq:e.hq}})})}function P(e){new m.P6;let[o,t]=i().useState(!1),n=i().useMemo(()=>{let o=e.options.codec?e.options.codec:"vp9";return{videoCaptureDefaults:{deviceId:e.userChoices.videoDeviceId??void 0,resolution:e.options.hq?m.OM.h2160:m.OM.h720},publishDefaults:{dtx:!1,videoSimulcastLayers:e.options.hq?[m.OM.h1080,m.OM.h720]:[m.OM.h540,m.OM.h216],red:!0,videoCodec:o},audioCaptureDefaults:{deviceId:e.userChoices.audioDeviceId??void 0},adaptiveStream:{pixelDensity:"screen"},dynacast:!0,e2ee:void 0}},[e.userChoices,e.options.hq,e.options.codec]),a=i().useMemo(()=>new m.du(n),[]),v=i().useMemo(()=>({autoSubscribe:!0}),[]),g=(0,h.useRouter)(),P=i().useCallback(()=>g.push("/"),[g]),f=i().useCallback(e=>{console.error(e),alert(`Encountered an unexpected error, check the console logs for details: ${e.message}`)},[]),b=i().useCallback(e=>{console.error(e),alert(`Encountered an unexpected encryption error, check the console logs for details: ${e.message}`)},[]);return r.jsx(r.Fragment,{children:(0,r.jsxs)(u.L,{connect:o,room:a,token:e.connectionDetails.participantToken,serverUrl:e.connectionDetails.serverUrl,connectOptions:v,video:e.userChoices.videoEnabled,audio:e.userChoices.audioEnabled,onDisconnected:P,onEncryptionError:b,onError:f,children:[r.jsx(l.zc,{chatMessageFormatter:p.m,SettingsComponent:x?d.T:void 0}),r.jsx(s.a,{}),r.jsx(c,{})]})})}},8828:(e,o,t)=>{"use strict";var r=t(127);t.o(r,"useRouter")&&t.d(o,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(o,{useSearchParams:function(){return r.useSearchParams}})},7708:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>a});var r=t(9692);t(3018);let s=(0,t(9670).createProxy)(String.raw`D:\meet\app\rooms\[roomName]\PageClientImpl.tsx#PageClientImpl`);var n=t(537);function a({params:e,searchParams:o}){let t="string"==typeof o.codec&&(0,n.t)(o.codec)?o.codec:"vp9",a="true"===o.hq;return r.jsx(s,{roomName:e.roomName,region:o.region,hq:a,codec:t})}}};var o=require("../../../webpack-runtime.js");o.C(e);var t=e=>o(o.s=e),r=o.X(0,[651,514,330,474],()=>t(8145));module.exports=r})();